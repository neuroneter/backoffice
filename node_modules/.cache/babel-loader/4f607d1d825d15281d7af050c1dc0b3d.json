{"ast":null,"code":"import _classCallCheck from \"/Users/danielobedortegahernandez/iCloud/Documents/GitHub/backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/danielobedortegahernandez/iCloud/Documents/GitHub/backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/danielobedortegahernandez/iCloud/Documents/GitHub/backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/danielobedortegahernandez/iCloud/Documents/GitHub/backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/danielobedortegahernandez/iCloud/Documents/GitHub/backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/danielobedortegahernandez/iCloud/Documents/GitHub/backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/danielobedortegahernandez/iCloud/Documents/GitHub/backoffice/src/views/Owner/Products/List.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Row, InputGroup, InputGroupAddon, InputGroupText, Input, Col, Card, CardHeader, CardBody, Button, ButtonGroup } from 'reactstrap';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { AppSwitch } from '@coreui/react';\nimport 'react-bootstrap-table/dist//react-bootstrap-table-all.min.css';\nimport DbCrud from '../../../Actions/DbCrud';\nimport Pagination from '../Pagination/Pagination';\nimport _CurrencyFormat from 'react-currency-format';\nimport { CommonLoading } from 'react-loadingg';\nimport { Image, Transformation } from 'cloudinary-react';\nimport { CloudinaryContext } from \"cloudinary-react\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport { isInteger } from 'core-js/fn/number';\nvar flat = true;\n/**\n * Compoenente que permite listar todos los paises que existen en la base de datos\n*/\n\nvar List =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(List, _Component);\n\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n    _this.state = {\n      loader: false,\n      modal: false,\n      IdDelete: null,\n      nameDelete: null,\n      filters: {\n        idSupplier: _this.props.userdate.idSupplier,\n        rol: _this.props.userdate.rol,\n        pag: \"1\",\n        limit: \"10\",\n        filFile: \"\",\n        filValue: \"\",\n        sorts: [{\n          file: \"cDate\",\n          value: 1\n        }]\n      }\n    };\n    _this.options = {\n      sortIndicator: true,\n      hideSizePerPage: true,\n      paginationSize: 5,\n      hidePageListOnlyOnePage: true,\n      alwaysShowAllBtns: false,\n      withFirstAndLast: false\n    };\n    _this.findSupplierRol = _this.findSupplierRol.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.pagLoad = _this.pagLoad.bind(_assertThisInitialized(_assertThisInitialized(_this))); //this.toggleDanger = this.toggleDanger.bind(this);\n\n    return _this;\n  }\n  /**Metodo que se ejecuta automaticamente cada vez que el componente es llamado */\n\n\n  _createClass(List, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (flat) {\n        flat = false;\n        this.setState({\n          loader: !this.state.loader\n        }); //Realizamos la primera carga de productos \n\n        this.props.loadReducer('loadProducts', \"products/back/find\", this.state.filters, this.closeLoader.bind(this)); //Cargamos los filtos que seran mostrados\n\n        this.props.loadReducer('loadFilters', \"products/filters\", this.state.filters);\n      }\n    }\n  }, {\n    key: \"closeLoader\",\n    value: function closeLoader(data) {\n      this.setState({\n        loader: false,\n        modal: false\n      });\n    } //Funcion que permite hacer la llamada al formulario para editar un nuevo registro \n\n  }, {\n    key: \"callEdit\",\n    value: function callEdit(row) {\n      localStorage.clear();\n      localStorage.setItem('row', JSON.stringify(row));\n      localStorage.setItem('listCategories', JSON.stringify(this.props.obj.listCategories));\n      localStorage.setItem('listBrands', JSON.stringify(this.props.obj.listBrands));\n      localStorage.setItem('listSuppliers', JSON.stringify(this.props.obj.listSuppliers));\n      localStorage.setItem('listTaxes', JSON.stringify(this.props.obj.listTaxes));\n      localStorage.setItem('listStores', JSON.stringify(this.props.obj.listStores));\n      var router = '/Products/Edit/';\n      if (row._id != \"NaN\") router = '/Products/Edit/' + row.code + '/' + row.reference + \"/\" + row._id;\n      this.props.history.push({\n        pathname: router,\n        row: row\n      });\n    }\n  }, {\n    key: \"createProduct\",\n    value: function createProduct() {\n      var date = new Date();\n      var idSupplier = this.props.userdate.idSupplier.substring(21, 24);\n\n      var idUser = this.props.userdate._id.substring(1, 3);\n\n      var idTmp = moment.unix(date)._i;\n\n      idTmp = Math.random(this.props.obj.pagination.RegPerFind + idTmp) + \"\";\n      idTmp = \"BOB\" + idUser + \"\" + idTmp.substring(4, 6) + \"\" + idSupplier + idTmp.substring(8, 10);\n      var row = {\n        update: true,\n        sku: idTmp,\n        cDate: date + \"\",\n        status: true,\n        idBrand: \"5f31926268ac81b2a0082879\",\n        idSupplier: this.props.userdate.idSupplier,\n        reference: \"\",\n        code: \"\",\n        name: \"\",\n        description: \"\",\n        sDescription: \"\",\n        specifications: \"\",\n        dimensions: {\n          heigth: 0,\n          width: 0,\n          deep: 0,\n          weight: 0\n        },\n        bDimensions: {\n          heigth: 0,\n          width: 0,\n          deep: 0,\n          weight: 0\n        },\n        warranty: 1,\n        dWarranty: \"\",\n        cost: 0,\n        idTax: \"5f23589b9c0dc3b1daee2885\",\n        pvp: 0,\n        total: 0,\n        dollar: 0,\n        margin: 0,\n        discount: [],\n        freeShipping: false,\n        stock: 0,\n        order: 0,\n        categories: [],\n        tags: [],\n        images: [],\n        video: [],\n        document: [],\n        keyWords: []\n      };\n      this.callEdit(row);\n    }\n  }, {\n    key: \"toogleClose\",\n    value: function toogleClose() {\n      this.setState({\n        modal: !this.state.modal\n      });\n    } // Esta funcion escucha los eventos del componente Pagination\n\n  }, {\n    key: \"pagLoad\",\n    value: function pagLoad(pagNum, limit) {\n      //Se realiza la solicitud nuevamente para recargar los registros \n      this.props.loadReducer('loadProducts', \"products/back/find\", {\n        pag: pagNum,\n        limit: limit,\n        filFile: this.state.filters.filFile,\n        filValue: this.state.filters.filValue,\n        sorts: this.state.filters.sorts,\n        idSupplier: this.props.userdate.idSupplier,\n        rol: this.props.userdate.rol\n      });\n      this.setState({\n        orders: {\n          pag: pagNum,\n          limit: limit,\n          filFile: this.state.filters.filFile,\n          filValue: this.state.filters.filValue,\n          sorts: this.state.filters.sorts\n        }\n      });\n    } //resibe \n\n  }, {\n    key: \"renderPagination\",\n    value: function renderPagination() {\n      if (this.props.obj.pagination.NumPages != undefined) return React.createElement(Pagination, {\n        info: this.props.obj.pagination,\n        pagLoad: this.pagLoad.bind(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Pag...\");\n    } //Cambia el valor a visible del mensaje de alerta \n    //guarda el identificador de la fila que sera afectada \n\n  }, {\n    key: \"toggleOpen\",\n    value: function toggleOpen(row) {\n      this.setState({\n        modal: !this.state.modal,\n        IdDelete: row._id,\n        nameDelete: row.name\n      });\n    }\n  }, {\n    key: \"deleteProduct\",\n    value: function deleteProduct(row) {\n      this.setState({\n        loader: !this.state.loader\n      });\n      this.props.delete('deleteProducts', \"products/delete\", this.state.IdDelete, this.closeLoader.bind(this));\n    } //Funcion que construye los botones de ediccion para cada registro listado en la tabla \n\n  }, {\n    key: \"editFormatter\",\n    value: function editFormatter(cell, row) {\n      return React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.callEdit.bind(this, row),\n        size: \"sm\",\n        className: \"btn-spotify btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon-pencil\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      })), React.createElement(Button, {\n        onClick: this.toggleOpen.bind(this, row),\n        size: \"sm\",\n        className: \"btn-reddit btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon-trash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"editCost\",\n    value: function editCost(cell, row) {\n      return this.CurrencyFormat(row.cost);\n    }\n  }, {\n    key: \"editPvp\",\n    value: function editPvp(cell, row) {\n      return this.CurrencyFormat(row.pvp);\n    }\n  }, {\n    key: \"CurrencyFormat\",\n    value: function CurrencyFormat(value) {\n      return React.createElement(_CurrencyFormat, {\n        value: parseInt(value),\n        displayType: 'text',\n        thousandSeparator: true,\n        decimalSeparator: \"\",\n        prefix: '$',\n        renderText: function renderText(value) {\n          return value;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"nameBrand\",\n    value: function nameBrand(cell, row) {\n      var brands = this.props.obj.listBrands;\n\n      for (var i = 0; i < brands.length; i++) {\n        if (row.idBrand == brands[i]._id) {\n          return brands[i].name;\n        }\n      }\n    }\n  }, {\n    key: \"nameSuppliers\",\n    value: function nameSuppliers(cell, row) {\n      var suppliers = this.props.obj.listSuppliers;\n\n      for (var i = 0; i < suppliers.length; i++) {\n        if (row.idSupplier == suppliers[i]._id) {\n          return suppliers[i].name;\n        }\n      }\n    }\n  }, {\n    key: \"nameTaxes\",\n    value: function nameTaxes(cell, row) {\n      var taxes = this.props.obj.listTaxes;\n\n      for (var i = 0; i < taxes.length; i++) {\n        if (row.idTax == taxes[i]._id) {\n          return taxes[i].value;\n        }\n      }\n    }\n  }, {\n    key: \"active\",\n    value: function active(cell, row) {\n      if (row.status == '1') {\n        return React.createElement(AppSwitch, {\n          className: 'mx-1',\n          variant: 'pill',\n          color: 'success',\n          label: true,\n          checked: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(AppSwitch, {\n          className: 'mx-1',\n          variant: 'pill',\n          color: 'success',\n          label: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        });\n      }\n    }\n  }, {\n    key: \"filters\",\n    value: function filters(filter) {\n      var tmpData = this.props.obj.listFilters;\n      var obj = [];\n      Object.keys(tmpData).forEach(function (key) {\n        if (key == filter) {\n          for (var i = 0; i < tmpData[key].length; i++) {\n            var keys = key + \"\" + tmpData[key][i]._id;\n            if (i == 0) obj.push(React.createElement(\"option\", {\n              key: keys,\n              value: \"0\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 261\n              },\n              __self: this\n            }, tmpData[key][i].name));else obj.push(React.createElement(\"option\", {\n              key: keys,\n              value: tmpData[key][i]._id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 262\n              },\n              __self: this\n            }, tmpData[key][i].name));\n          }\n        }\n      });\n      return obj;\n    }\n  }, {\n    key: \"onClickForm\",\n    value: function onClickForm(idInput) {\n      var infoTmp = document.getElementById(idInput).value;\n      if (infoTmp == \"0\") infoTmp = \"\"; //Se realiza la solicitud nuevamente para recargar los registros \n\n      this.props.loadReducer('loadProdFindFilter', \"products/findFilter\", {\n        pag: 1,\n        rol: this.state.filters.rol,\n        idSupplier: this.state.filters.idSupplier,\n        limit: 50,\n        filFile: idInput,\n        filValue: infoTmp,\n        sorts: this.state.filters.sorts\n      }); //Actualizamos el esta con los valores de filtros seleccionados esto por si se utiliza la \n      //paginacion por lo que se requiere que el estado mantenga el filtro de campo \n\n      this.setState({\n        filters: {\n          pag: 1,\n          limit: 50,\n          filFile: idInput,\n          filValue: infoTmp,\n          sorts: this.state.filters.sorts\n        }\n      });\n    }\n  }, {\n    key: \"imgProduct\",\n    value: function imgProduct(cell, row) {\n      try {\n        if (row.images.length > 0) {\n          return React.createElement(CloudinaryContext, {\n            cloudName: this.props.userdate.cloudName,\n            uploadPreset: this.props.userdate.uploadPreset,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 302\n            },\n            __self: this\n          }, React.createElement(Image, {\n            publicId: row.images[0].url,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 303\n            },\n            __self: this\n          }, React.createElement(Transformation, {\n            width: \"80\",\n            crop: \"scale\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 304\n            },\n            __self: this\n          })));\n        }\n      } catch (e) {}\n    }\n  }, {\n    key: \"formatSKU\",\n    value: function formatSKU(cell, row) {\n      return row.sku.toUpperCase();\n    }\n  }, {\n    key: \"findSupplierRol\",\n    value: function findSupplierRol() {\n      if (this.props.userdate.rol < 4) return React.createElement(Col, {\n        xs: \"12\",\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"select\",\n        name: \"idSupplier\",\n        id: \"idSupplier\",\n        key: \"idSupplier\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, this.filters(\"suppliers\")), React.createElement(InputGroupAddon, {\n        addonType: \"append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"button\",\n        onClick: this.onClickForm.bind(this, \"idSupplier\"),\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, \"Buscar\"))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"animated\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, \"Lista Productos\", React.createElement(\"div\", {\n        className: \"card-header-actions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"sm\",\n        style: {\n          fontSize: \"medium\"\n        },\n        onClick: this.createProduct.bind(this),\n        className: \"float-right btn btn-success active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, \"+ Crear Producto\")))), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"12\",\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"12\",\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"select\",\n        name: \"idBrand\",\n        id: \"idBrand\",\n        key: \"idBrand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, this.filters(\"brands\")), React.createElement(InputGroupAddon, {\n        addonType: \"append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"button\",\n        onClick: this.onClickForm.bind(this, \"idBrand\"),\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, \"Buscar\")))), this.findSupplierRol(), React.createElement(Col, {\n        xs: \"12\",\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"select\",\n        name: \"idTax\",\n        id: \"idTax\",\n        key: \"idTax\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, this.filters(\"taxes\")), React.createElement(InputGroupAddon, {\n        addonType: \"append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"button\",\n        onClick: this.onClickForm.bind(this, \"idTax\"),\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, \"Buscar\")))), React.createElement(Col, {\n        xs: \"12\",\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, React.createElement(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa icon-layers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }))), React.createElement(Input, {\n        type: \"text\",\n        id: \"findFilterAll\",\n        name: \"findFilterAll\",\n        placeholder: \"Nombre, C\\xF3d, Refe, SKU\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }), React.createElement(InputGroupAddon, {\n        addonType: \"append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"button\",\n        onClick: this.onClickForm.bind(this, \"findFilterAll\"),\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, \"Buscar\"))))))), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"12\",\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pull-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, this.renderPagination())))), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394\n        },\n        __self: this\n      }, React.createElement(BootstrapTable, {\n        data: this.props.obj.listProducts,\n        striped: true,\n        hover: true,\n        options: this.options,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395\n        },\n        __self: this\n      }, React.createElement(TableHeaderColumn, {\n        width: '6%',\n        dataFormat: this.imgProduct.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }, \"Imagen\"), React.createElement(TableHeaderColumn, {\n        width: '8%',\n        dataFormat: this.formatSKU.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397\n        },\n        __self: this\n      }, \"SKU\"), React.createElement(TableHeaderColumn, {\n        width: '6%',\n        dataField: \"reference\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }, \"Referencia\"), React.createElement(TableHeaderColumn, {\n        width: '8%',\n        dataField: \"code\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, \"Codigo\"), React.createElement(TableHeaderColumn, {\n        width: '16%',\n        dataField: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }, \"Nombre\"), React.createElement(TableHeaderColumn, {\n        width: '6%',\n        dataFormat: this.nameBrand.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      }, \"Marca\"), React.createElement(TableHeaderColumn, {\n        width: '7%',\n        dataFormat: this.nameSuppliers.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, \"Proveedor\"), React.createElement(TableHeaderColumn, {\n        width: '3%',\n        dataFormat: this.nameTaxes.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, \"Tax\"), React.createElement(TableHeaderColumn, {\n        width: '6%',\n        dataFormat: this.editPvp.bind(this),\n        dataAlign: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, \"Tiendas\"), React.createElement(TableHeaderColumn, {\n        width: '6%',\n        dataFormat: this.editCost.bind(this),\n        dataAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, \"Costo\"), React.createElement(TableHeaderColumn, {\n        dataFormat: this.editFormatter.bind(this),\n        width: '5%',\n        dataAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, \"Accion\"), React.createElement(TableHeaderColumn, {\n        isKey: true,\n        dataField: \"_id\",\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }, \"Identifier ID\"))), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"12\",\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pull-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, this.renderPagination()))))), React.createElement(Modal, {\n        isOpen: this.state.modal,\n        toggle: this.toogleClose.bind(this),\n        className: 'modal-danger ',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        toggle: this.toogleClose.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }, \"Alerta\"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      }, \"Esta seguro que desea eliminar el producto \", this.state.nameDelete), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"danger\",\n        onClick: this.deleteProduct.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, \"Eliminar\"), ' ', React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.toogleClose.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423\n        },\n        __self: this\n      }, \"Cancel\"))), React.createElement(Modal, {\n        isOpen: this.state.loader,\n        className: 'modal-lg',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          position: \"inherit\",\n          top: \"300px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, React.createElement(CommonLoading, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return List;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  //Registra el objeto la funcion que cargara el objeto en el estado\n  return {\n    obj: state.DaoProducts\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    loadReducer: function loadReducer(type, colletion, body, callFunction) {\n      DbCrud.dbMLoad(dispatch, type, colletion, body, \"POST\", callFunction);\n    },\n    delete: function _delete(type, colletion, id, callFunction) {\n      DbCrud.dbMLoad(dispatch, type, colletion, {\n        _id: id\n      }, \"PUT\", callFunction);\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(List);","map":{"version":3,"sources":["/Users/danielobedortegahernandez/iCloud/Documents/GitHub/backoffice/src/views/Owner/Products/List.js"],"names":["React","Component","connect","Modal","ModalHeader","ModalBody","ModalFooter","Row","InputGroup","InputGroupAddon","InputGroupText","Input","Col","Card","CardHeader","CardBody","Button","ButtonGroup","BootstrapTable","TableHeaderColumn","AppSwitch","DbCrud","Pagination","CurrencyFormat","CommonLoading","Image","Transformation","CloudinaryContext","moment","isInteger","flat","List","props","state","loader","modal","IdDelete","nameDelete","filters","idSupplier","userdate","rol","pag","limit","filFile","filValue","sorts","file","value","options","sortIndicator","hideSizePerPage","paginationSize","hidePageListOnlyOnePage","alwaysShowAllBtns","withFirstAndLast","findSupplierRol","bind","pagLoad","setState","loadReducer","closeLoader","data","row","localStorage","clear","setItem","JSON","stringify","obj","listCategories","listBrands","listSuppliers","listTaxes","listStores","router","_id","code","reference","history","push","pathname","date","Date","substring","idUser","idTmp","unix","_i","Math","random","pagination","RegPerFind","update","sku","cDate","status","idBrand","name","description","sDescription","specifications","dimensions","heigth","width","deep","weight","bDimensions","warranty","dWarranty","cost","idTax","pvp","total","dollar","margin","discount","freeShipping","stock","order","categories","tags","images","video","document","keyWords","callEdit","pagNum","orders","NumPages","undefined","delete","cell","toggleOpen","parseInt","brands","i","length","suppliers","taxes","filter","tmpData","listFilters","Object","keys","forEach","key","idInput","infoTmp","getElementById","cloudName","uploadPreset","url","e","toUpperCase","onClickForm","fontSize","createProduct","renderPagination","listProducts","imgProduct","formatSKU","nameBrand","nameSuppliers","nameTaxes","editPvp","editCost","editFormatter","toogleClose","deleteProduct","position","top","mapStateToProps","DaoProducts","mapDispatchToProps","dispatch","type","colletion","body","callFunction","dbMLoad","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Row, InputGroup, InputGroupAddon, InputGroupText, Input, Col, Card, CardHeader, CardBody, Button, ButtonGroup } from 'reactstrap';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { AppSwitch } from '@coreui/react'\nimport 'react-bootstrap-table/dist//react-bootstrap-table-all.min.css';\nimport DbCrud from '../../../Actions/DbCrud';\nimport Pagination from '../Pagination/Pagination';\nimport CurrencyFormat from 'react-currency-format';\nimport { CommonLoading } from 'react-loadingg';\nimport { Image, Transformation } from 'cloudinary-react';\nimport { CloudinaryContext } from \"cloudinary-react\";\n\nimport moment from \"moment\"; \nimport \"moment/locale/es\";\nimport { isInteger } from 'core-js/fn/number';\n\nvar flat = true;\n \n/**\n * Compoenente que permite listar todos los paises que existen en la base de datos\n*/\nclass List extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loader:false,\n      modal:false,\n      IdDelete:null,\n      nameDelete:null,\n      filters: {\n        idSupplier:this.props.userdate.idSupplier,\n        rol:this.props.userdate.rol,\n        pag:\"1\",\n        limit:\"10\",\n        filFile:\"\",\n        filValue:\"\",\n        sorts:[\n          {\n            file:\"cDate\",\n            value:1\n          }\n        ]\n      }\n    }\n\n    this.options = {\n      sortIndicator: true,\n      hideSizePerPage: true,\n      paginationSize: 5,\n      hidePageListOnlyOnePage: true,\n      alwaysShowAllBtns: false,\n      withFirstAndLast: false\n    }\n    this.findSupplierRol = this.findSupplierRol.bind(this);\n    this.pagLoad = this.pagLoad.bind(this);\n    //this.toggleDanger = this.toggleDanger.bind(this);\n  }\n\n  /**Metodo que se ejecuta automaticamente cada vez que el componente es llamado */\n  componentDidMount() {\n    if (flat) {\n      flat = false;\n      this.setState({loader:!this.state.loader});\n      //Realizamos la primera carga de productos \n      this.props.loadReducer('loadProducts', \"products/back/find\",this.state.filters, this.closeLoader.bind(this));\n      //Cargamos los filtos que seran mostrados\n      this.props.loadReducer('loadFilters', \"products/filters\",this.state.filters);\n    }\n  }\n\n  closeLoader(data){\n    this.setState({loader:false, modal:false});\n  }\n \n  //Funcion que permite hacer la llamada al formulario para editar un nuevo registro \n  callEdit(row) {\n    localStorage.clear();\n    localStorage.setItem('row', JSON.stringify(row));\n    localStorage.setItem('listCategories',JSON.stringify(this.props.obj.listCategories));\n    localStorage.setItem('listBrands',JSON.stringify(this.props.obj.listBrands));\n    localStorage.setItem('listSuppliers',JSON.stringify(this.props.obj.listSuppliers));\n    localStorage.setItem('listTaxes',JSON.stringify(this.props.obj.listTaxes));\n    localStorage.setItem('listStores',JSON.stringify(this.props.obj.listStores));\n    var router = '/Products/Edit/'\n    if(row._id != \"NaN\") router = '/Products/Edit/'+row.code+'/'+row.reference+\"/\"+row._id\n    this.props.history.push({\n      pathname: router,\n      row:row\n    })\n  }\n\n  createProduct(){\n    var date = new Date();\n    var idSupplier = this.props.userdate.idSupplier.substring(21,24);\n    var idUser = this.props.userdate._id.substring(1,3);\n\n    var idTmp = moment.unix(date)._i;\n    idTmp = Math.random(this.props.obj.pagination.RegPerFind+idTmp)+\"\";\n    idTmp = \"BOB\"+idUser+\"\"+idTmp.substring(4,6)+\"\"+idSupplier+idTmp.substring(8,10);\n   \n    var row = {\n      update:true,\n      sku:idTmp,\n      cDate:date+\"\",\n      status:true,\n      idBrand:\"5f31926268ac81b2a0082879\",\n      idSupplier: this.props.userdate.idSupplier,\n      reference:\"\",\n      code:\"\",\n      name:\"\",\n      description:\"\",\n      sDescription:\"\",\n      specifications:\"\",\n      dimensions: { heigth:0, width:0, deep:0, weight:0 },\n      bDimensions: { heigth:0, width:0, deep:0, weight:0 },\n      warranty: 1,\n      dWarranty: \"\",\n      cost:0,\n      idTax:\"5f23589b9c0dc3b1daee2885\",\n      pvp:0,\n      total:0,\n      dollar:0,\n      margin:0,\n      discount:[],\n      freeShipping:false,\n      stock:0,\n      order:0,\n      categories:[],\n      tags:[],\n      images:[],\n      video:[],\n      document:[],\n      keyWords:[]\n    }\n   this.callEdit(row);\n  }\n\n  toogleClose(){\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  // Esta funcion escucha los eventos del componente Pagination\n  pagLoad(pagNum,limit) {\n      //Se realiza la solicitud nuevamente para recargar los registros \n      this.props.loadReducer('loadProducts', \"products/back/find\", {\n        pag:pagNum,\n        limit:limit,\n        filFile:this.state.filters.filFile,\n        filValue:this.state.filters.filValue,\n        sorts:this.state.filters.sorts,\n        idSupplier:this.props.userdate.idSupplier,\n        rol:this.props.userdate.rol,\n      });\n      \n      this.setState({\n        orders:{\n          pag:pagNum,\n          limit:limit,\n          filFile:this.state.filters.filFile,\n          filValue:this.state.filters.filValue,\n          sorts:this.state.filters.sorts\n        }\n      });\n      \n  }\n\n  //resibe \n  renderPagination(){\n    if(this.props.obj.pagination.NumPages != undefined)\n    return <Pagination info={this.props.obj.pagination} pagLoad={this.pagLoad.bind()}/>\n    return (<div>Pag...</div>);\n  }\n\n  //Cambia el valor a visible del mensaje de alerta \n  //guarda el identificador de la fila que sera afectada \n  toggleOpen(row) {\n    this.setState({\n      modal: !this.state.modal,\n      IdDelete: row._id,\n      nameDelete: row.name\n    });\n  }\n\n  deleteProduct(row){\n    this.setState({loader:!this.state.loader});\n    this.props.delete('deleteProducts', \"products/delete\",this.state.IdDelete,this.closeLoader.bind(this));\n  }\n\n  //Funcion que construye los botones de ediccion para cada registro listado en la tabla \n  editFormatter(cell, row) {\n    return (\n      <ButtonGroup>\n        <Button onClick={this.callEdit.bind(this, row)} size=\"sm\" className=\"btn-spotify btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm\">\n          <i className=\"icon-pencil\"></i>\n        </Button>\n        <Button onClick={this.toggleOpen.bind(this, row)} size=\"sm\" className=\"btn-reddit btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm\">\n          <i className=\"icon-trash\"></i>\n        </Button>\n      </ButtonGroup>\n    )\n  }\n\n  editCost(cell, row){return this.CurrencyFormat(row.cost);}\n  editPvp(cell, row){return this.CurrencyFormat(row.pvp);}\n  CurrencyFormat(value){\n    return (\n      <CurrencyFormat value={parseInt(value)} displayType={'text'} thousandSeparator={true} decimalSeparator={\"\"}  prefix={'$'} renderText={value => value} />\n    )\n  }\n\n  nameBrand(cell, row){\n    var brands = this.props.obj.listBrands;\n    for(var i=0; i<brands.length; i++){\n      if(row.idBrand == brands[i]._id){\n        return brands[i].name;\n      }\n    }\n  }\n\n  nameSuppliers(cell, row){\n    var suppliers = this.props.obj.listSuppliers;\n    for(var i=0; i<suppliers.length; i++){\n      if(row.idSupplier == suppliers[i]._id){\n        return suppliers[i].name;\n      }\n    }\n  }\n\n  nameTaxes(cell, row){\n    var taxes = this.props.obj.listTaxes;\n    for(var i=0; i<taxes.length; i++){\n      if(row.idTax == taxes[i]._id){\n        return taxes[i].value;\n      }\n    }\n  }\n\n  active(cell, row){\n    if(row.status == '1'){\n        return(\n            <AppSwitch className={'mx-1'} variant={'pill'} color={'success'} label checked/>\n        );\n      }else{\n        return(\n           <AppSwitch className={'mx-1'} variant={'pill'} color={'success'} label  />\n        );\n      }\n  }\n\n  filters(filter){  \n    const tmpData = this.props.obj.listFilters;\n    const obj = [];\n    Object.keys(tmpData).forEach(function(key){\n      if(key == filter){\n        for(var i=0; i<tmpData[key].length; i++){\n          var keys = key+\"\"+tmpData[key][i]._id;\n          if(i==0) obj.push(<option key={keys} value=\"0\">{tmpData[key][i].name}</option>)\n          else obj.push(<option key={keys} value={tmpData[key][i]._id}>{tmpData[key][i].name}</option>)\n        }\n      }\n    })\n    return obj;\n  }\n\n  onClickForm(idInput){\n    var infoTmp = document.getElementById(idInput).value;\n    if(infoTmp == \"0\") infoTmp = \"\";\n\n    //Se realiza la solicitud nuevamente para recargar los registros \n    this.props.loadReducer('loadProdFindFilter', \"products/findFilter\", {\n      pag:1,\n      rol:this.state.filters.rol,\n      idSupplier:this.state.filters.idSupplier,\n      limit:50,\n      filFile:idInput,\n      filValue:infoTmp,\n      sorts:this.state.filters.sorts\n    });\n    \n    //Actualizamos el esta con los valores de filtros seleccionados esto por si se utiliza la \n    //paginacion por lo que se requiere que el estado mantenga el filtro de campo \n    this.setState({\n        filters:{\n          pag:1,\n          limit:50,\n          filFile:idInput,\n          filValue:infoTmp,\n          sorts:this.state.filters.sorts\n        }\n      }\n    );\n  }\n\n  imgProduct(cell, row){\n    try{\n      if(row.images.length > 0){\n        return (\n          <CloudinaryContext cloudName={this.props.userdate.cloudName} uploadPreset={this.props.userdate.uploadPreset}>\n            <Image publicId={row.images[0].url} >\n              <Transformation width=\"80\" crop=\"scale\" />\n            </Image>\n          </CloudinaryContext>\n        )\n    }\n    }catch(e){}\n  }\n\n  formatSKU(cell, row){\n    return row.sku.toUpperCase();\n  }\n\n  findSupplierRol(){\n    if(this.props.userdate.rol < 4)\n    return(\n      <Col xs=\"12\" md=\"3\">\n                  <InputGroup>\n                    <Input type=\"select\" name=\"idSupplier\" id=\"idSupplier\" key=\"idSupplier\">\n                      {this.filters(\"suppliers\")}\n                    </Input>\n                    <InputGroupAddon addonType=\"append\">\n                      <Button type=\"button\" onClick={this.onClickForm.bind(this,\"idSupplier\")} color=\"primary\">Buscar</Button>\n                    </InputGroupAddon>\n                  </InputGroup>\n                </Col>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"animated\">\n        <Card>\n          <CardHeader>\n            Lista Productos\n            <div className=\"card-header-actions\">\n              <Row>\n                <Button size=\"sm\" style={{fontSize:\"medium\"}} onClick={this.createProduct.bind(this)} className=\"float-right btn btn-success active\">\n                  + Crear Producto\n                </Button>\n                {/*<Col xs=\"12\" md=\"12\"><CSVLink data={this.props.obj.listProducts}>Descargar Busqueda</CSVLink></Col>*/}\n              </Row>\n            </div>\n          </CardHeader>\n          <CardBody>\n            <Col xs=\"12\" md=\"12\">\n              <Row>\n                <Col xs=\"12\" md=\"3\">\n                  <InputGroup>\n                    <Input type=\"select\" name=\"idBrand\" id=\"idBrand\" key=\"idBrand\">\n                      {this.filters(\"brands\")}\n                    </Input>\n                    <InputGroupAddon addonType=\"append\">\n                      <Button type=\"button\" onClick={this.onClickForm.bind(this,\"idBrand\")} color=\"primary\">Buscar</Button>\n                    </InputGroupAddon>\n                  </InputGroup>\n                </Col>\n                {this.findSupplierRol()}\n                <Col xs=\"12\" md=\"3\">\n                  <InputGroup>\n                    <Input type=\"select\" name=\"idTax\" id=\"idTax\" key=\"idTax\">\n                      {this.filters(\"taxes\")}\n                    </Input>\n                    <InputGroupAddon addonType=\"append\">\n                      <Button type=\"button\" onClick={this.onClickForm.bind(this,\"idTax\")} color=\"primary\">Buscar</Button>\n                    </InputGroupAddon>\n                  </InputGroup>\n                </Col>\n                <Col xs=\"12\" md=\"3\">\n                  <InputGroup>\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>\n                        <i className=\"fa icon-layers\"></i>\n                      </InputGroupText>\n                    </InputGroupAddon>\n                    <Input type=\"text\" id=\"findFilterAll\" name=\"findFilterAll\" placeholder=\"Nombre, Cód, Refe, SKU\" />\n                    <InputGroupAddon addonType=\"append\">\n                      <Button type=\"button\" onClick={this.onClickForm.bind(this,\"findFilterAll\")} color=\"primary\">Buscar</Button>\n                    </InputGroupAddon>\n                  </InputGroup>\n                </Col>\n            </Row>\n            </Col>\n          </CardBody>\n          <CardBody>\n            <Row>\n              <Col xs=\"12\" md=\"12\">\n                <div className=\"pull-right\">{this.renderPagination()}</div>\n              </Col>\n            </Row>\n          </CardBody>\n          <CardBody>\n              <BootstrapTable  data={this.props.obj.listProducts} striped hover options={this.options}  > \n              <TableHeaderColumn width={'6%'} dataFormat={this.imgProduct.bind(this)} >Imagen</TableHeaderColumn>\n              <TableHeaderColumn width={'8%'} dataFormat={this.formatSKU.bind(this)} >SKU</TableHeaderColumn>\n              <TableHeaderColumn width={'6%'} dataField='reference' >Referencia</TableHeaderColumn>\n              <TableHeaderColumn width={'8%'} dataField='code' >Codigo</TableHeaderColumn>\n              <TableHeaderColumn width={'16%'} dataField='name' >Nombre</TableHeaderColumn>\n              <TableHeaderColumn width={'6%'} dataFormat={this.nameBrand.bind(this)} >Marca</TableHeaderColumn>\n              <TableHeaderColumn width={'7%'} dataFormat={this.nameSuppliers.bind(this)} >Proveedor</TableHeaderColumn>\n              <TableHeaderColumn width={'3%'} dataFormat={this.nameTaxes.bind(this)} >Tax</TableHeaderColumn>\n              <TableHeaderColumn width={'6%'} dataFormat={this.editPvp.bind(this)} dataAlign='right'>Tiendas</TableHeaderColumn>\n              <TableHeaderColumn width={'6%'} dataFormat={this.editCost.bind(this)} dataAlign='center'>Costo</TableHeaderColumn>\n              <TableHeaderColumn dataFormat={this.editFormatter.bind(this)} width={'5%'} dataAlign='center' >Accion</TableHeaderColumn>\n              <TableHeaderColumn isKey={true} dataField='_id' hidden>Identifier ID</TableHeaderColumn>\n            </BootstrapTable>\n          </CardBody>\n          <CardBody>\n            <Row>\n              <Col xs=\"12\" md=\"12\">\n                <div className=\"pull-right\">{this.renderPagination()}</div>\n              </Col>\n            </Row>\n          </CardBody>\n        </Card>\n        <Modal isOpen={this.state.modal} toggle={this.toogleClose.bind(this)} className={'modal-danger '}>\n          <ModalHeader toggle={this.toogleClose.bind(this)}>Alerta</ModalHeader>\n          <ModalBody>Esta seguro que desea eliminar el producto {this.state.nameDelete}</ModalBody>\n          <ModalFooter>\n            <Button color=\"danger\" onClick={this.deleteProduct.bind(this)} >Eliminar</Button>{' '}\n            <Button color=\"secondary\" onClick={this.toogleClose.bind(this)}>Cancel</Button>\n          </ModalFooter>\n        </Modal>\n        <Modal isOpen={this.state.loader} className={'modal-lg'}>\n          <div style={{position:\"inherit\",top:\"300px\"}}><CommonLoading size=\"large\"/></div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  //Registra el objeto la funcion que cargara el objeto en el estado\n  return{\n    obj:state.DaoProducts\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    loadReducer: (type, colletion, body, callFunction,) => {\n      DbCrud.dbMLoad(dispatch, type, colletion, body, \"POST\" ,callFunction);\n    },\n    delete: (type, colletion, id, callFunction,) => {\n      DbCrud.dbMLoad(dispatch, type, colletion, {_id:id}, \"PUT\" ,callFunction);\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(List);\n"]},"metadata":{},"sourceType":"module"}