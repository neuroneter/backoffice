{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? t(require(\"@firebase/app\")) : \"function\" == typeof define && define.amd ? define([\"@firebase/app\"], t) : t((e = e || self).firebase);\n}(this, function (ze) {\n  \"use strict\";\n\n  try {\n    (function () {\n      function e(r, n) {\n        var o,\n            i,\n            a,\n            e,\n            s = {\n          label: 0,\n          sent: function sent() {\n            if (1 & a[0]) throw a[1];\n            return a[1];\n          },\n          trys: [],\n          ops: []\n        };\n        return e = {\n          next: t(0),\n          throw: t(1),\n          return: t(2)\n        }, \"function\" == typeof Symbol && (e[Symbol.iterator] = function () {\n          return this;\n        }), e;\n\n        function t(t) {\n          return function (e) {\n            return function (t) {\n              if (o) throw new TypeError(\"Generator is already executing.\");\n\n              for (; s;) {\n                try {\n                  if (o = 1, i && (a = 2 & t[0] ? i.return : t[0] ? i.throw || ((a = i.return) && a.call(i), 0) : i.next) && !(a = a.call(i, t[1])).done) return a;\n\n                  switch (i = 0, a && (t = [2 & t[0], a.value]), t[0]) {\n                    case 0:\n                    case 1:\n                      a = t;\n                      break;\n\n                    case 4:\n                      return s.label++, {\n                        value: t[1],\n                        done: !1\n                      };\n\n                    case 5:\n                      s.label++, i = t[1], t = [0];\n                      continue;\n\n                    case 7:\n                      t = s.ops.pop(), s.trys.pop();\n                      continue;\n\n                    default:\n                      if (!(a = 0 < (a = s.trys).length && a[a.length - 1]) && (6 === t[0] || 2 === t[0])) {\n                        s = 0;\n                        continue;\n                      }\n\n                      if (3 === t[0] && (!a || t[1] > a[0] && t[1] < a[3])) {\n                        s.label = t[1];\n                        break;\n                      }\n\n                      if (6 === t[0] && s.label < a[1]) {\n                        s.label = a[1], a = t;\n                        break;\n                      }\n\n                      if (a && s.label < a[2]) {\n                        s.label = a[2], s.ops.push(t);\n                        break;\n                      }\n\n                      a[2] && s.ops.pop(), s.trys.pop();\n                      continue;\n                  }\n\n                  t = n.call(r, s);\n                } catch (e) {\n                  t = [6, e], i = 0;\n                } finally {\n                  o = a = 0;\n                }\n              }\n\n              if (5 & t[0]) throw t[1];\n              return {\n                value: t[0] ? t[1] : void 0,\n                done: !0\n              };\n            }([t, e]);\n          };\n        }\n      }\n\n      ze = ze && ze.hasOwnProperty(\"default\") ? ze.default : ze;\n\n      var f = \"firebasestorage.googleapis.com\",\n          p = \"storageBucket\",\n          b = function () {\n        function e(e, t) {\n          this.code_ = r(e), this.message_ = \"Firebase Storage: \" + t, this.serverResponse_ = null, this.name_ = \"FirebaseError\";\n        }\n\n        return e.prototype.codeProp = function () {\n          return this.code;\n        }, e.prototype.codeEquals = function (e) {\n          return r(e) === this.codeProp();\n        }, e.prototype.serverResponseProp = function () {\n          return this.serverResponse_;\n        }, e.prototype.setServerResponseProp = function (e) {\n          this.serverResponse_ = e;\n        }, Object.defineProperty(e.prototype, \"name\", {\n          get: function get() {\n            return this.name_;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"code\", {\n          get: function get() {\n            return this.code_;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"message\", {\n          get: function get() {\n            return this.message_;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"serverResponse\", {\n          get: function get() {\n            return this.serverResponse_;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), e;\n      }(),\n          m = {\n        UNKNOWN: \"unknown\",\n        OBJECT_NOT_FOUND: \"object-not-found\",\n        BUCKET_NOT_FOUND: \"bucket-not-found\",\n        PROJECT_NOT_FOUND: \"project-not-found\",\n        QUOTA_EXCEEDED: \"quota-exceeded\",\n        UNAUTHENTICATED: \"unauthenticated\",\n        UNAUTHORIZED: \"unauthorized\",\n        RETRY_LIMIT_EXCEEDED: \"retry-limit-exceeded\",\n        INVALID_CHECKSUM: \"invalid-checksum\",\n        CANCELED: \"canceled\",\n        INVALID_EVENT_NAME: \"invalid-event-name\",\n        INVALID_URL: \"invalid-url\",\n        INVALID_DEFAULT_BUCKET: \"invalid-default-bucket\",\n        NO_DEFAULT_BUCKET: \"no-default-bucket\",\n        CANNOT_SLICE_BLOB: \"cannot-slice-blob\",\n        SERVER_FILE_WRONG_SIZE: \"server-file-wrong-size\",\n        NO_DOWNLOAD_URL: \"no-download-url\",\n        INVALID_ARGUMENT: \"invalid-argument\",\n        INVALID_ARGUMENT_COUNT: \"invalid-argument-count\",\n        APP_DELETED: \"app-deleted\",\n        INVALID_ROOT_OPERATION: \"invalid-root-operation\",\n        INVALID_FORMAT: \"invalid-format\",\n        INTERNAL_ERROR: \"internal-error\"\n      };\n\n      function r(e) {\n        return \"storage/\" + e;\n      }\n\n      function u() {\n        return new b(m.UNKNOWN, \"An unknown error occurred, please check the error payload for server response.\");\n      }\n\n      function l() {\n        return new b(m.CANCELED, \"User canceled the upload/download.\");\n      }\n\n      function g() {\n        return new b(m.CANNOT_SLICE_BLOB, \"Cannot slice blob for upload. Please retry the upload.\");\n      }\n\n      function h(e, t, r) {\n        return new b(m.INVALID_ARGUMENT, \"Invalid argument in `\" + t + \"` at index \" + e + \": \" + r);\n      }\n\n      function c() {\n        return new b(m.APP_DELETED, \"The Firebase app was deleted.\");\n      }\n\n      function d(e, t) {\n        return new b(m.INVALID_FORMAT, \"String does not match format '\" + e + \"': \" + t);\n      }\n\n      function i(e) {\n        throw new b(m.INTERNAL_ERROR, \"Internal error: \" + e);\n      }\n\n      var _ = {\n        RAW: \"raw\",\n        BASE64: \"base64\",\n        BASE64URL: \"base64url\",\n        DATA_URL: \"data_url\"\n      };\n\n      function a(e) {\n        switch (e) {\n          case _.RAW:\n          case _.BASE64:\n          case _.BASE64URL:\n          case _.DATA_URL:\n            return;\n\n          default:\n            throw \"Expected one of the event types: [\" + _.RAW + \", \" + _.BASE64 + \", \" + _.BASE64URL + \", \" + _.DATA_URL + \"].\";\n        }\n      }\n\n      var n = function n(e, t) {\n        this.data = e, this.contentType = t || null;\n      };\n\n      function v(e, t) {\n        switch (e) {\n          case _.RAW:\n            return new n(o(t));\n\n          case _.BASE64:\n          case _.BASE64URL:\n            return new n(s(e, t));\n\n          case _.DATA_URL:\n            return new n((r = new y(t)).base64 ? s(_.BASE64, r.rest) : function (e) {\n              var t;\n\n              try {\n                t = decodeURIComponent(e);\n              } catch (e) {\n                throw d(_.DATA_URL, \"Malformed data URL.\");\n              }\n\n              return o(t);\n            }(r.rest), new y(t).contentType);\n        }\n\n        var r;\n        throw u();\n      }\n\n      function o(e) {\n        for (var t = [], r = 0; r < e.length; r++) {\n          var n = e.charCodeAt(r);\n          if (n <= 127) t.push(n);else if (n <= 2047) t.push(192 | n >> 6, 128 | 63 & n);else if (55296 == (64512 & n)) {\n            if (r < e.length - 1 && 56320 == (64512 & e.charCodeAt(r + 1))) n = 65536 | (1023 & n) << 10 | 1023 & e.charCodeAt(++r), t.push(240 | n >> 18, 128 | n >> 12 & 63, 128 | n >> 6 & 63, 128 | 63 & n);else t.push(239, 191, 189);\n          } else 56320 == (64512 & n) ? t.push(239, 191, 189) : t.push(224 | n >> 12, 128 | n >> 6 & 63, 128 | 63 & n);\n        }\n\n        return new Uint8Array(t);\n      }\n\n      function s(t, e) {\n        switch (t) {\n          case _.BASE64:\n            var r = -1 !== e.indexOf(\"-\"),\n                n = -1 !== e.indexOf(\"_\");\n            if (r || n) throw d(t, \"Invalid character '\" + (r ? \"-\" : \"_\") + \"' found: is it base64url encoded?\");\n            break;\n\n          case _.BASE64URL:\n            var o = -1 !== e.indexOf(\"+\"),\n                i = -1 !== e.indexOf(\"/\");\n            if (o || i) throw d(t, \"Invalid character '\" + (o ? \"+\" : \"/\") + \"' found: is it base64 encoded?\");\n            e = e.replace(/-/g, \"+\").replace(/_/g, \"/\");\n        }\n\n        var a;\n\n        try {\n          a = atob(e);\n        } catch (e) {\n          throw d(t, \"Invalid character found\");\n        }\n\n        for (var s = new Uint8Array(a.length), u = 0; u < a.length; u++) {\n          s[u] = a.charCodeAt(u);\n        }\n\n        return s;\n      }\n\n      var y = function y(e) {\n        this.base64 = !1, this.contentType = null;\n        var t = e.match(/^data:([^,]+)?,/);\n        if (null === t) throw d(_.DATA_URL, \"Must be formatted 'data:[<mediatype>][;base64],<data>\");\n        var r,\n            n,\n            o = t[1] || null;\n        null != o && (this.base64 = (n = \";base64\", (r = o).length >= n.length && r.substring(r.length - n.length) === n), this.contentType = this.base64 ? o.substring(0, o.length - \";base64\".length) : o), this.rest = e.substring(e.indexOf(\",\") + 1);\n      };\n\n      var w,\n          t,\n          R = {\n        STATE_CHANGED: \"state_changed\"\n      },\n          T = \"running\",\n          E = \"pausing\",\n          k = \"paused\",\n          O = \"success\",\n          U = \"canceling\",\n          A = \"canceled\",\n          x = \"error\",\n          C = {\n        RUNNING: \"running\",\n        PAUSED: \"paused\",\n        SUCCESS: \"success\",\n        CANCELED: \"canceled\",\n        ERROR: \"error\"\n      };\n\n      function S(e) {\n        switch (e) {\n          case T:\n          case E:\n          case U:\n            return C.RUNNING;\n\n          case k:\n            return C.PAUSED;\n\n          case O:\n            return C.SUCCESS;\n\n          case A:\n            return C.CANCELED;\n\n          case x:\n          default:\n            return C.ERROR;\n        }\n      }\n\n      function N(e) {\n        return null != e;\n      }\n\n      function P(e) {\n        return void 0 !== e;\n      }\n\n      function L(e) {\n        return \"function\" == typeof e;\n      }\n\n      function I(e) {\n        return \"object\" == typeof e;\n      }\n\n      function D(e) {\n        return \"string\" == typeof e || e instanceof String;\n      }\n\n      function M(e) {\n        return \"number\" == typeof e || e instanceof Number;\n      }\n\n      function W(e) {\n        return B() && e instanceof Blob;\n      }\n\n      function B() {\n        return \"undefined\" != typeof Blob;\n      }\n\n      (t = w || (w = {}))[t.NO_ERROR = 0] = \"NO_ERROR\", t[t.NETWORK_ERROR = 1] = \"NETWORK_ERROR\", t[t.ABORT = 2] = \"ABORT\";\n\n      var j = function () {\n        function e() {\n          var t = this;\n          this.sent_ = !1, this.xhr_ = new XMLHttpRequest(), this.errorCode_ = w.NO_ERROR, this.sendPromise_ = new Promise(function (e) {\n            t.xhr_.addEventListener(\"abort\", function () {\n              t.errorCode_ = w.ABORT, e(t);\n            }), t.xhr_.addEventListener(\"error\", function () {\n              t.errorCode_ = w.NETWORK_ERROR, e(t);\n            }), t.xhr_.addEventListener(\"load\", function () {\n              e(t);\n            });\n          });\n        }\n\n        return e.prototype.send = function (e, t, r, n) {\n          if (this.sent_) throw i(\"cannot .send() more than once\");\n          if (this.sent_ = !0, this.xhr_.open(t, e, !0), N(n)) for (var o in n) {\n            n.hasOwnProperty(o) && this.xhr_.setRequestHeader(o, n[o].toString());\n          }\n          return N(r) ? this.xhr_.send(r) : this.xhr_.send(), this.sendPromise_;\n        }, e.prototype.getErrorCode = function () {\n          if (!this.sent_) throw i(\"cannot .getErrorCode() before sending\");\n          return this.errorCode_;\n        }, e.prototype.getStatus = function () {\n          if (!this.sent_) throw i(\"cannot .getStatus() before sending\");\n\n          try {\n            return this.xhr_.status;\n          } catch (e) {\n            return -1;\n          }\n        }, e.prototype.getResponseText = function () {\n          if (!this.sent_) throw i(\"cannot .getResponseText() before sending\");\n          return this.xhr_.responseText;\n        }, e.prototype.abort = function () {\n          this.xhr_.abort();\n        }, e.prototype.getResponseHeader = function (e) {\n          return this.xhr_.getResponseHeader(e);\n        }, e.prototype.addUploadProgressListener = function (e) {\n          N(this.xhr_.upload) && this.xhr_.upload.addEventListener(\"progress\", e);\n        }, e.prototype.removeUploadProgressListener = function (e) {\n          N(this.xhr_.upload) && this.xhr_.upload.removeEventListener(\"progress\", e);\n        }, e;\n      }(),\n          q = function () {\n        function e() {}\n\n        return e.prototype.createXhrIo = function () {\n          return new j();\n        }, e;\n      }();\n\n      function F() {\n        for (var e = [], t = 0; t < arguments.length; t++) {\n          e[t] = arguments[t];\n        }\n\n        var r = \"undefined\" != typeof BlobBuilder ? BlobBuilder : \"undefined\" != typeof WebKitBlobBuilder ? WebKitBlobBuilder : void 0;\n\n        if (void 0 !== r) {\n          for (var n = new r(), o = 0; o < e.length; o++) {\n            n.append(e[o]);\n          }\n\n          return n.getBlob();\n        }\n\n        if (B()) return new Blob(e);\n        throw Error(\"This browser doesn't seem to support creating Blobs\");\n      }\n\n      var H = function () {\n        function s(e, t) {\n          var r = 0,\n              n = \"\";\n          W(e) ? (r = (this.data_ = e).size, n = e.type) : e instanceof ArrayBuffer ? (t ? this.data_ = new Uint8Array(e) : (this.data_ = new Uint8Array(e.byteLength), this.data_.set(new Uint8Array(e))), r = this.data_.length) : e instanceof Uint8Array && (t ? this.data_ = e : (this.data_ = new Uint8Array(e.length), this.data_.set(e)), r = e.length), this.size_ = r, this.type_ = n;\n        }\n\n        return s.prototype.size = function () {\n          return this.size_;\n        }, s.prototype.type = function () {\n          return this.type_;\n        }, s.prototype.slice = function (e, t) {\n          if (W(this.data_)) {\n            var r = this.data_,\n                n = (i = e, a = t, (o = r).webkitSlice ? o.webkitSlice(i, a) : o.mozSlice ? o.mozSlice(i, a) : o.slice ? o.slice(i, a) : null);\n            return null === n ? null : new s(n);\n          }\n\n          var o, i, a;\n          return new s(new Uint8Array(this.data_.buffer, e, t - e), !0);\n        }, s.getBlob = function () {\n          for (var e = [], t = 0; t < arguments.length; t++) {\n            e[t] = arguments[t];\n          }\n\n          if (B()) {\n            var r = e.map(function (e) {\n              return e instanceof s ? e.data_ : e;\n            });\n            return new s(F.apply(null, r));\n          }\n\n          var n = e.map(function (e) {\n            return D(e) ? v(_.RAW, e).data : e.data_;\n          }),\n              o = 0;\n          n.forEach(function (e) {\n            o += e.byteLength;\n          });\n          var i = new Uint8Array(o),\n              a = 0;\n          return n.forEach(function (e) {\n            for (var t = 0; t < e.length; t++) {\n              i[a++] = e[t];\n            }\n          }), new s(i, !0);\n        }, s.prototype.uploadData = function () {\n          return this.data_;\n        }, s;\n      }(),\n          z = function () {\n        function h(e, t) {\n          this.bucket = e, this.path_ = t;\n        }\n\n        return Object.defineProperty(h.prototype, \"path\", {\n          get: function get() {\n            return this.path_;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(h.prototype, \"isRoot\", {\n          get: function get() {\n            return 0 === this.path.length;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), h.prototype.fullServerUrl = function () {\n          var e = encodeURIComponent;\n          return \"/b/\" + e(this.bucket) + \"/o/\" + e(this.path);\n        }, h.prototype.bucketOnlyServerUrl = function () {\n          return \"/b/\" + encodeURIComponent(this.bucket) + \"/o\";\n        }, h.makeFromBucketSpec = function (t) {\n          var e, r;\n\n          try {\n            e = h.makeFromUrl(t);\n          } catch (e) {\n            return new h(t, \"\");\n          }\n\n          if (\"\" === e.path) return e;\n          throw r = t, new b(m.INVALID_DEFAULT_BUCKET, \"Invalid default bucket '\" + r + \"'.\");\n        }, h.makeFromUrl = function (e) {\n          var t = null,\n              r = \"([A-Za-z0-9.\\\\-_]+)\";\n          var n = new RegExp(\"^gs://\" + r + \"(/(.*))?$\", \"i\");\n\n          for (var o, i = f.replace(/[.]/g, \"\\\\.\"), a = [{\n            regex: n,\n            indices: {\n              bucket: 1,\n              path: 3\n            },\n            postModify: function postModify(e) {\n              \"/\" === e.path.charAt(e.path.length - 1) && (e.path_ = e.path_.slice(0, -1));\n            }\n          }, {\n            regex: new RegExp(\"^https?://\" + i + \"/v[A-Za-z0-9_]+/b/\" + r + \"/o(/([^?#]*).*)?$\", \"i\"),\n            indices: {\n              bucket: 1,\n              path: 3\n            },\n            postModify: function postModify(e) {\n              e.path_ = decodeURIComponent(e.path);\n            }\n          }], s = 0; s < a.length; s++) {\n            var u = a[s],\n                l = u.regex.exec(e);\n\n            if (l) {\n              var c = l[u.indices.bucket],\n                  p = l[u.indices.path];\n              p || (p = \"\"), t = new h(c, p), u.postModify(t);\n              break;\n            }\n          }\n\n          if (null == t) throw o = e, new b(m.INVALID_URL, \"Invalid URL '\" + o + \"'.\");\n          return t;\n        }, h;\n      }();\n\n      function G(e) {\n        var t, r;\n\n        try {\n          t = JSON.parse(e);\n        } catch (e) {\n          return null;\n        }\n\n        return I(r = t) && !Array.isArray(r) ? t : null;\n      }\n\n      function X(e) {\n        var t = e.lastIndexOf(\"/\", e.length - 2);\n        return -1 === t ? e : e.slice(t + 1);\n      }\n\n      function V(e) {\n        return \"https://\" + f + \"/v0\" + e;\n      }\n\n      function K(e) {\n        var t = encodeURIComponent,\n            r = \"?\";\n\n        for (var n in e) {\n          if (e.hasOwnProperty(n)) r = r + (t(n) + \"=\" + t(e[n])) + \"&\";\n        }\n\n        return r = r.slice(0, -1);\n      }\n\n      function Z(e, t) {\n        return t;\n      }\n\n      var J = function J(e, t, r, n) {\n        this.server = e, this.local = t || e, this.writable = !!r, this.xform = n || Z;\n      },\n          Q = null;\n\n      function $() {\n        if (Q) return Q;\n        var e = [];\n        e.push(new J(\"bucket\")), e.push(new J(\"generation\")), e.push(new J(\"metageneration\")), e.push(new J(\"name\", \"fullPath\", !0));\n        var t = new J(\"name\");\n        t.xform = function (e, t) {\n          return !D(r = t) || r.length < 2 ? r : X(r);\n          var r;\n        }, e.push(t);\n        var r = new J(\"size\");\n        return r.xform = function (e, t) {\n          return N(t) ? Number(t) : t;\n        }, e.push(r), e.push(new J(\"timeCreated\")), e.push(new J(\"updated\")), e.push(new J(\"md5Hash\", null, !0)), e.push(new J(\"cacheControl\", null, !0)), e.push(new J(\"contentDisposition\", null, !0)), e.push(new J(\"contentEncoding\", null, !0)), e.push(new J(\"contentLanguage\", null, !0)), e.push(new J(\"contentType\", null, !0)), e.push(new J(\"metadata\", \"customMetadata\", !0)), Q = e;\n      }\n\n      function Y(e, t, r) {\n        for (var n, o, i = {\n          type: \"file\"\n        }, a = r.length, s = 0; s < a; s++) {\n          var u = r[s];\n          i[u.local] = u.xform(i, t[u.server]);\n        }\n\n        return n = i, o = e, Object.defineProperty(n, \"ref\", {\n          get: function get() {\n            var e = n.bucket,\n                t = n.fullPath,\n                r = new z(e, t);\n            return o.makeStorageReference(r);\n          }\n        }), i;\n      }\n\n      function ee(e, t, r) {\n        var n = G(t);\n        return null === n ? null : Y(e, n, r);\n      }\n\n      function te(e, t) {\n        for (var r = {}, n = t.length, o = 0; o < n; o++) {\n          var i = t[o];\n          i.writable && (r[i.server] = e[i.local]);\n        }\n\n        return JSON.stringify(r);\n      }\n\n      function re(e) {\n        if (!I(e) || !e) throw \"Expected Metadata object.\";\n\n        for (var t in e) {\n          if (e.hasOwnProperty(t)) {\n            var r = e[t];\n\n            if (\"customMetadata\" === t) {\n              if (!I(r)) throw \"Expected object for 'customMetadata' mapping.\";\n            } else if (I(n = r) && null !== n) throw \"Mapping for '\" + t + \"' cannot be an object.\";\n          }\n        }\n\n        var n;\n      }\n\n      var ne = \"maxResults\",\n          oe = 1e3,\n          ie = \"pageToken\",\n          ae = \"prefixes\",\n          se = \"items\";\n\n      function ue(e, t) {\n        var r = {\n          prefixes: [],\n          items: [],\n          nextPageToken: t.nextPageToken\n        },\n            n = e.bucket();\n        if (null === n) throw new b(m.NO_DEFAULT_BUCKET, \"No default bucket found. Did you set the '\" + p + \"' property when initializing the app?\");\n        if (t[ae]) for (var o = 0, i = t[ae]; o < i.length; o++) {\n          var a = i[o].replace(/\\/$/, \"\"),\n              s = e.makeStorageReference(new z(n, a));\n          r.prefixes.push(s);\n        }\n        if (t[se]) for (var u = 0, l = t[se]; u < l.length; u++) {\n          var c = l[u];\n          s = e.makeStorageReference(new z(n, c.name));\n          r.items.push(s);\n        }\n        return r;\n      }\n\n      function le(e) {\n        if (!I(e) || !e) throw \"Expected ListOptions object.\";\n\n        for (var t in e) {\n          if (t === ne) {\n            if (!M(r = e[ne]) || !Number.isInteger(r) || e[ne] <= 0) throw \"Expected maxResults to be a positive number.\";\n            if (1e3 < e[ne]) throw \"Expected maxResults to be less than or equal to \" + oe + \".\";\n          } else {\n            if (t !== ie) throw \"Unknown option: \" + t;\n            if (e[ie] && !D(e[ie])) throw \"Expected pageToken to be string.\";\n          }\n        }\n\n        var r;\n      }\n\n      var ce = function ce(e, t, r, n) {\n        this.url = e, this.method = t, this.handler = r, this.timeout = n, this.urlParams = {}, this.headers = {}, this.body = null, this.errorHandler = null, this.progressCallback = null, this.successCodes = [200], this.additionalRetryCodes = [];\n      };\n\n      function pe(e) {\n        if (!e) throw u();\n      }\n\n      function he(n, o) {\n        return function (e, t) {\n          var r = ee(n, t, o);\n          return pe(null !== r), r;\n        };\n      }\n\n      function fe(i) {\n        return function (e, t) {\n          var r,\n              n,\n              o = (r = i, null === (n = G(t)) ? null : ue(r, n));\n          return pe(null !== o), o;\n        };\n      }\n\n      function de(n, o) {\n        return function (e, t) {\n          var r = ee(n, t, o);\n          return pe(null !== r), function (n, e) {\n            var t = G(e);\n            if (null === t) return null;\n            if (!D(t.downloadTokens)) return null;\n            var r = t.downloadTokens;\n            if (0 === r.length) return null;\n            var o = encodeURIComponent;\n            return r.split(\",\").map(function (e) {\n              var t = n.bucket,\n                  r = n.fullPath;\n              return V(\"/b/\" + o(t) + \"/o/\" + o(r)) + K({\n                alt: \"media\",\n                token: e\n              });\n            })[0];\n          }(r, t);\n        };\n      }\n\n      function _e(i) {\n        return function (e, t) {\n          var r, n, o;\n          return (r = 401 === e.getStatus() ? new b(m.UNAUTHENTICATED, \"User is not authenticated, please authenticate using Firebase Authentication and try again.\") : 402 === e.getStatus() ? (o = i.bucket, new b(m.QUOTA_EXCEEDED, \"Quota for bucket '\" + o + \"' exceeded, please view quota on https://firebase.google.com/pricing/.\")) : 403 === e.getStatus() ? (n = i.path, new b(m.UNAUTHORIZED, \"User does not have permission to access '\" + n + \"'.\")) : t).setServerResponseProp(t.serverResponseProp()), r;\n        };\n      }\n\n      function ve(o) {\n        var i = _e(o);\n\n        return function (e, t) {\n          var r,\n              n = i(e, t);\n          return 404 === e.getStatus() && (r = o.path, n = new b(m.OBJECT_NOT_FOUND, \"Object '\" + r + \"' does not exist.\")), n.setServerResponseProp(t.serverResponseProp()), n;\n        };\n      }\n\n      function be(e, t, r) {\n        var n = V(t.fullServerUrl()),\n            o = e.maxOperationRetryTime(),\n            i = new ce(n, \"GET\", he(e, r), o);\n        return i.errorHandler = ve(t), i;\n      }\n\n      function me(e, t, r) {\n        var n,\n            o,\n            i = Object.assign({}, r);\n        return i.fullPath = e.path, i.size = t.size(), i.contentType || (i.contentType = (o = t, (n = null) && n.contentType || o && o.type() || \"application/octet-stream\")), i;\n      }\n\n      var ge = function ge(e, t, r, n) {\n        this.current = e, this.total = t, this.finalized = !!r, this.metadata = n || null;\n      };\n\n      function ye(e, t) {\n        var r = null;\n\n        try {\n          r = e.getResponseHeader(\"X-Goog-Upload-Status\");\n        } catch (e) {\n          pe(!1);\n        }\n\n        return pe(!!r && -1 !== (t || [\"active\"]).indexOf(r)), r;\n      }\n\n      function we(e, a, t, s, r, u, n, o) {\n        var l = new ge(0, 0);\n        if (l.total = n ? (l.current = n.current, n.total) : (l.current = 0, s.size()), s.size() !== l.total) throw new b(m.SERVER_FILE_WRONG_SIZE, \"Server recorded incorrect upload file size, please retry the upload.\");\n        var i = l.total - l.current,\n            c = i;\n        0 < r && (c = Math.min(c, r));\n        var p = l.current,\n            h = p + c,\n            f = {\n          \"X-Goog-Upload-Command\": c === i ? \"upload, finalize\" : \"upload\",\n          \"X-Goog-Upload-Offset\": l.current\n        },\n            d = s.slice(p, h);\n        if (null === d) throw g();\n\n        var _ = a.maxUploadRetryTime(),\n            v = new ce(t, \"POST\", function (e, t) {\n          var r,\n              n = ye(e, [\"active\", \"final\"]),\n              o = l.current + c,\n              i = s.size();\n          return r = \"final\" === n ? he(a, u)(e, t) : null, new ge(o, i, \"final\" === n, r);\n        }, _);\n\n        return v.headers = f, v.body = d.uploadData(), v.progressCallback = o || null, v.errorHandler = _e(e), v;\n      }\n\n      var Re = function Re(e, t, r) {\n        if (L(e) || N(t) || N(r)) this.next = e, this.error = t || null, this.complete = r || null;else {\n          var n = e;\n          this.next = n.next || null, this.error = n.error || null, this.complete = n.complete || null;\n        }\n      },\n          Te = function Te(e, t, r, n, o, i) {\n        this.bytesTransferred = e, this.totalBytes = t, this.state = r, this.metadata = n, this.task = o, this.ref = i;\n      };\n\n      function Ee(t, e, r) {\n        for (var n = e.length, o = e.length, i = 0; i < e.length; i++) {\n          if (e[i].optional) {\n            n = i;\n            break;\n          }\n        }\n\n        var a, s, u, l, c, p;\n        if (!(n <= r.length && r.length <= o)) throw a = n, s = o, u = t, l = r.length, p = a === s ? 1 === (c = a) ? \"argument\" : \"arguments\" : (c = \"between \" + a + \" and \" + s, \"arguments\"), new b(m.INVALID_ARGUMENT_COUNT, \"Invalid argument count in `\" + u + \"`: Expected \" + c + \" \" + p + \", received \" + l + \".\");\n\n        for (i = 0; i < r.length; i++) {\n          try {\n            e[i].validator(r[i]);\n          } catch (e) {\n            throw e instanceof Error ? h(i, t, e.message) : h(i, t, e);\n          }\n        }\n      }\n\n      var ke = function ke(t, e) {\n        var r = this;\n        this.validator = function (e) {\n          r.optional && !P(e) || t(e);\n        }, this.optional = !!e;\n      };\n\n      function Oe(e, t) {\n        function r(e) {\n          if (!D(e)) throw \"Expected string.\";\n        }\n\n        var n, o, i;\n        return n = e ? (o = r, i = e, function (e) {\n          o(e), i(e);\n        }) : r, new ke(n, t);\n      }\n\n      function Ue(e) {\n        return new ke(re, e);\n      }\n\n      function Ae() {\n        return new ke(function (e) {\n          if (!(M(e) && 0 <= e)) throw \"Expected a number 0 or greater.\";\n        });\n      }\n\n      function xe(t, e) {\n        return new ke(function (e) {\n          if (!(null === e || N(e) && e instanceof Object)) throw \"Expected an Object.\";\n          null != t && t(e);\n        }, e);\n      }\n\n      function Ce(e) {\n        return new ke(function (e) {\n          if (null !== e && !L(e)) throw \"Expected a Function.\";\n        }, e);\n      }\n\n      function Se(r) {\n        return function () {\n          for (var e = [], t = 0; t < arguments.length; t++) {\n            e[t] = arguments[t];\n          }\n\n          Promise.resolve().then(function () {\n            return r.apply(void 0, e);\n          });\n        };\n      }\n\n      var Ne = function () {\n        function e(e, t, r, n, o, i) {\n          var a = this;\n          void 0 === i && (i = null), this.transferred_ = 0, this.needToFetchStatus_ = !1, this.needToFetchMetadata_ = !1, this.observers_ = [], this.error_ = null, this.uploadUrl_ = null, this.request_ = null, this.chunkMultiplier_ = 1, this.resolve_ = null, this.reject_ = null, this.ref_ = e, this.authWrapper_ = t, this.location_ = r, this.blob_ = o, this.metadata_ = i, this.mappings_ = n, this.resumable_ = this.shouldDoResumable_(this.blob_), this.state_ = T, this.errorHandler_ = function (e) {\n            a.request_ = null, a.chunkMultiplier_ = 1, e.codeEquals(m.CANCELED) ? (a.needToFetchStatus_ = !0, a.completeTransitions_()) : (a.error_ = e, a.transition_(x));\n          }, this.metadataErrorHandler_ = function (e) {\n            a.request_ = null, e.codeEquals(m.CANCELED) ? a.completeTransitions_() : (a.error_ = e, a.transition_(x));\n          }, this.promise_ = new Promise(function (e, t) {\n            a.resolve_ = e, a.reject_ = t, a.start_();\n          }), this.promise_.then(null, function () {});\n        }\n\n        return e.prototype.makeProgressCallback_ = function () {\n          var t = this,\n              r = this.transferred_;\n          return function (e) {\n            return t.updateProgress_(r + e);\n          };\n        }, e.prototype.shouldDoResumable_ = function (e) {\n          return 262144 < e.size();\n        }, e.prototype.start_ = function () {\n          this.state_ === T && null === this.request_ && (this.resumable_ ? null === this.uploadUrl_ ? this.createResumable_() : this.needToFetchStatus_ ? this.fetchStatus_() : this.needToFetchMetadata_ ? this.fetchMetadata_() : this.continueUpload_() : this.oneShotUpload_());\n        }, e.prototype.resolveToken_ = function (t) {\n          var r = this;\n          this.authWrapper_.getAuthToken().then(function (e) {\n            switch (r.state_) {\n              case T:\n                t(e);\n                break;\n\n              case U:\n                r.transition_(A);\n                break;\n\n              case E:\n                r.transition_(k);\n            }\n          });\n        }, e.prototype.createResumable_ = function () {\n          var v = this;\n          this.resolveToken_(function (e) {\n            var t,\n                r,\n                n,\n                o,\n                i,\n                a,\n                s,\n                u,\n                l,\n                c,\n                p,\n                h,\n                f,\n                d = (t = v.authWrapper_, r = v.location_, n = v.mappings_, o = v.blob_, i = v.metadata_, a = r.bucketOnlyServerUrl(), s = me(r, o, i), u = {\n              name: s.fullPath\n            }, l = V(a), c = {\n              \"X-Goog-Upload-Protocol\": \"resumable\",\n              \"X-Goog-Upload-Command\": \"start\",\n              \"X-Goog-Upload-Header-Content-Length\": o.size(),\n              \"X-Goog-Upload-Header-Content-Type\": s.contentType,\n              \"Content-Type\": \"application/json; charset=utf-8\"\n            }, p = te(s, n), h = t.maxUploadRetryTime(), (f = new ce(l, \"POST\", function (e) {\n              var t;\n              ye(e);\n\n              try {\n                t = e.getResponseHeader(\"X-Goog-Upload-URL\");\n              } catch (e) {\n                pe(!1);\n              }\n\n              return pe(D(t)), t;\n            }, h)).urlParams = u, f.headers = c, f.body = p, f.errorHandler = _e(r), f),\n                _ = v.authWrapper_.makeRequest(d, e);\n\n            (v.request_ = _).getPromise().then(function (e) {\n              v.request_ = null, v.uploadUrl_ = e, v.needToFetchStatus_ = !1, v.completeTransitions_();\n            }, v.errorHandler_);\n          });\n        }, e.prototype.fetchStatus_ = function () {\n          var l = this,\n              c = this.uploadUrl_;\n          this.resolveToken_(function (e) {\n            var t,\n                r,\n                n,\n                o,\n                i,\n                a,\n                s = (t = l.authWrapper_, r = l.location_, n = c, o = l.blob_, i = t.maxUploadRetryTime(), (a = new ce(n, \"POST\", function (e) {\n              var t = ye(e, [\"active\", \"final\"]),\n                  r = null;\n\n              try {\n                r = e.getResponseHeader(\"X-Goog-Upload-Size-Received\");\n              } catch (e) {\n                pe(!1);\n              }\n\n              r || pe(!1);\n              var n = Number(r);\n              return pe(!isNaN(n)), new ge(n, o.size(), \"final\" === t);\n            }, i)).headers = {\n              \"X-Goog-Upload-Command\": \"query\"\n            }, a.errorHandler = _e(r), a),\n                u = l.authWrapper_.makeRequest(s, e);\n            (l.request_ = u).getPromise().then(function (e) {\n              e = e, l.request_ = null, l.updateProgress_(e.current), l.needToFetchStatus_ = !1, e.finalized && (l.needToFetchMetadata_ = !0), l.completeTransitions_();\n            }, l.errorHandler_);\n          });\n        }, e.prototype.continueUpload_ = function () {\n          var n = this,\n              o = 262144 * this.chunkMultiplier_,\n              i = new ge(this.transferred_, this.blob_.size()),\n              a = this.uploadUrl_;\n          this.resolveToken_(function (e) {\n            var t;\n\n            try {\n              t = we(n.location_, n.authWrapper_, a, n.blob_, o, n.mappings_, i, n.makeProgressCallback_());\n            } catch (e) {\n              return n.error_ = e, void n.transition_(x);\n            }\n\n            var r = n.authWrapper_.makeRequest(t, e);\n            (n.request_ = r).getPromise().then(function (e) {\n              n.increaseMultiplier_(), n.request_ = null, n.updateProgress_(e.current), e.finalized ? (n.metadata_ = e.metadata, n.transition_(O)) : n.completeTransitions_();\n            }, n.errorHandler_);\n          });\n        }, e.prototype.increaseMultiplier_ = function () {\n          262144 * this.chunkMultiplier_ < 33554432 && (this.chunkMultiplier_ *= 2);\n        }, e.prototype.fetchMetadata_ = function () {\n          var n = this;\n          this.resolveToken_(function (e) {\n            var t = be(n.authWrapper_, n.location_, n.mappings_),\n                r = n.authWrapper_.makeRequest(t, e);\n            (n.request_ = r).getPromise().then(function (e) {\n              n.request_ = null, n.metadata_ = e, n.transition_(O);\n            }, n.metadataErrorHandler_);\n          });\n        }, e.prototype.oneShotUpload_ = function () {\n          var n = this;\n          this.resolveToken_(function (e) {\n            var t = function (e, t, r, n, o) {\n              var i = t.bucketOnlyServerUrl(),\n                  a = {\n                \"X-Goog-Upload-Protocol\": \"multipart\"\n              },\n                  s = function () {\n                for (var e = \"\", t = 0; t < 2; t++) {\n                  e += Math.random().toString().slice(2);\n                }\n\n                return e;\n              }();\n\n              a[\"Content-Type\"] = \"multipart/related; boundary=\" + s;\n              var u = me(t, n, o),\n                  l = \"--\" + s + \"\\r\\nContent-Type: application/json; charset=utf-8\\r\\n\\r\\n\" + te(u, r) + \"\\r\\n--\" + s + \"\\r\\nContent-Type: \" + u.contentType + \"\\r\\n\\r\\n\",\n                  c = \"\\r\\n--\" + s + \"--\",\n                  p = H.getBlob(l, n, c);\n              if (null === p) throw g();\n\n              var h = {\n                name: u.fullPath\n              },\n                  f = V(i),\n                  d = e.maxUploadRetryTime(),\n                  _ = new ce(f, \"POST\", he(e, r), d);\n\n              return _.urlParams = h, _.headers = a, _.body = p.uploadData(), _.errorHandler = _e(t), _;\n            }(n.authWrapper_, n.location_, n.mappings_, n.blob_, n.metadata_),\n                r = n.authWrapper_.makeRequest(t, e);\n\n            (n.request_ = r).getPromise().then(function (e) {\n              n.request_ = null, n.metadata_ = e, n.updateProgress_(n.blob_.size()), n.transition_(O);\n            }, n.errorHandler_);\n          });\n        }, e.prototype.updateProgress_ = function (e) {\n          var t = this.transferred_;\n          this.transferred_ = e, this.transferred_ !== t && this.notifyObservers_();\n        }, e.prototype.transition_ = function (e) {\n          if (this.state_ !== e) switch (e) {\n            case U:\n            case E:\n              this.state_ = e, null !== this.request_ && this.request_.cancel();\n              break;\n\n            case T:\n              var t = this.state_ === k;\n              this.state_ = e, t && (this.notifyObservers_(), this.start_());\n              break;\n\n            case k:\n              this.state_ = e, this.notifyObservers_();\n              break;\n\n            case A:\n              this.error_ = l(), this.state_ = e, this.notifyObservers_();\n              break;\n\n            case x:\n            case O:\n              this.state_ = e, this.notifyObservers_();\n          }\n        }, e.prototype.completeTransitions_ = function () {\n          switch (this.state_) {\n            case E:\n              this.transition_(k);\n              break;\n\n            case U:\n              this.transition_(A);\n              break;\n\n            case T:\n              this.start_();\n          }\n        }, Object.defineProperty(e.prototype, \"snapshot\", {\n          get: function get() {\n            var e = S(this.state_);\n            return new Te(this.transferred_, this.blob_.size(), e, this.metadata_, this, this.ref_);\n          },\n          enumerable: !0,\n          configurable: !0\n        }), e.prototype.on = function (e, t, r, i) {\n          var n = \"Expected a function or an Object with one of `next`, `error`, `complete` properties.\",\n              o = Ce(!0).validator,\n              a = xe(null, !0).validator;\n\n          function s(e) {\n            try {\n              return void o(e);\n            } catch (e) {}\n\n            try {\n              if (a(e), !(P(e.next) || P(e.error) || P(e.complete))) throw \"\";\n              return;\n            } catch (e) {\n              throw n;\n            }\n          }\n\n          Ee(\"on\", [Oe(function () {\n            if (e !== R.STATE_CHANGED) throw \"Expected one of the event types: [\" + R.STATE_CHANGED + \"].\";\n          }), xe(s, !0), Ce(!0), Ce(!0)], arguments);\n          var u = this;\n\n          function l(o) {\n            return function (e, t, r) {\n              null !== o && Ee(\"on\", o, arguments);\n              var n = new Re(e, t, i);\n              return u.addObserver_(n), function () {\n                u.removeObserver_(n);\n              };\n            };\n          }\n\n          var c = [xe(function (e) {\n            if (null === e) throw n;\n            s(e);\n          }), Ce(!0), Ce(!0)];\n          return !(P(t) || P(r) || P(i)) ? l(c) : l(null)(t, r, i);\n        }, e.prototype.then = function (e, t) {\n          return this.promise_.then(e, t);\n        }, e.prototype.catch = function (e) {\n          return this.then(null, e);\n        }, e.prototype.addObserver_ = function (e) {\n          this.observers_.push(e), this.notifyObserver_(e);\n        }, e.prototype.removeObserver_ = function (e) {\n          var t = this.observers_.indexOf(e);\n          -1 !== t && this.observers_.splice(t, 1);\n        }, e.prototype.notifyObservers_ = function () {\n          var t = this;\n          this.finishPromise_(), this.observers_.slice().forEach(function (e) {\n            t.notifyObserver_(e);\n          });\n        }, e.prototype.finishPromise_ = function () {\n          if (null !== this.resolve_) {\n            var e = !0;\n\n            switch (S(this.state_)) {\n              case C.SUCCESS:\n                Se(this.resolve_.bind(null, this.snapshot))();\n                break;\n\n              case C.CANCELED:\n              case C.ERROR:\n                Se(this.reject_.bind(null, this.error_))();\n                break;\n\n              default:\n                e = !1;\n            }\n\n            e && (this.resolve_ = null, this.reject_ = null);\n          }\n        }, e.prototype.notifyObserver_ = function (e) {\n          switch (S(this.state_)) {\n            case C.RUNNING:\n            case C.PAUSED:\n              e.next && Se(e.next.bind(e, this.snapshot))();\n              break;\n\n            case C.SUCCESS:\n              e.complete && Se(e.complete.bind(e))();\n              break;\n\n            case C.CANCELED:\n            case C.ERROR:\n              e.error && Se(e.error.bind(e, this.error_))();\n              break;\n\n            default:\n              e.error && Se(e.error.bind(e, this.error_))();\n          }\n        }, e.prototype.resume = function () {\n          Ee(\"resume\", [], arguments);\n          var e = this.state_ === k || this.state_ === E;\n          return e && this.transition_(T), e;\n        }, e.prototype.pause = function () {\n          Ee(\"pause\", [], arguments);\n          var e = this.state_ === T;\n          return e && this.transition_(E), e;\n        }, e.prototype.cancel = function () {\n          Ee(\"cancel\", [], arguments);\n          var e = this.state_ === T || this.state_ === E;\n          return e && this.transition_(U), e;\n        }, e;\n      }(),\n          Pe = function () {\n        function r(e, t) {\n          this.authWrapper = e, this.location = t instanceof z ? t : z.makeFromUrl(t);\n        }\n\n        return r.prototype.toString = function () {\n          return Ee(\"toString\", [], arguments), \"gs://\" + this.location.bucket + \"/\" + this.location.path;\n        }, r.prototype.newRef = function (e, t) {\n          return new r(e, t);\n        }, r.prototype.mappings = function () {\n          return $();\n        }, r.prototype.child = function (e) {\n          Ee(\"child\", [Oe()], arguments);\n          var t,\n              r,\n              n = (t = this.location.path, r = e.split(\"/\").filter(function (e) {\n            return 0 < e.length;\n          }).join(\"/\"), 0 === t.length ? r : t + \"/\" + r),\n              o = new z(this.location.bucket, n);\n          return this.newRef(this.authWrapper, o);\n        }, Object.defineProperty(r.prototype, \"parent\", {\n          get: function get() {\n            var e = function (e) {\n              if (0 === e.length) return null;\n              var t = e.lastIndexOf(\"/\");\n              return -1 === t ? \"\" : e.slice(0, t);\n            }(this.location.path);\n\n            if (null === e) return null;\n            var t = new z(this.location.bucket, e);\n            return this.newRef(this.authWrapper, t);\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(r.prototype, \"root\", {\n          get: function get() {\n            var e = new z(this.location.bucket, \"\");\n            return this.newRef(this.authWrapper, e);\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(r.prototype, \"bucket\", {\n          get: function get() {\n            return this.location.bucket;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(r.prototype, \"fullPath\", {\n          get: function get() {\n            return this.location.path;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(r.prototype, \"name\", {\n          get: function get() {\n            return X(this.location.path);\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(r.prototype, \"storage\", {\n          get: function get() {\n            return this.authWrapper.service();\n          },\n          enumerable: !0,\n          configurable: !0\n        }), r.prototype.put = function (e, t) {\n          return void 0 === t && (t = null), Ee(\"put\", [new ke(function (e) {\n            if (!(e instanceof Uint8Array || e instanceof ArrayBuffer || B() && e instanceof Blob)) throw \"Expected Blob or File.\";\n          }), Ue(!0)], arguments), this.throwIfRoot_(\"put\"), new Ne(this, this.authWrapper, this.location, this.mappings(), new H(e), t);\n        }, r.prototype.putString = function (e, t, r) {\n          void 0 === t && (t = _.RAW), Ee(\"putString\", [Oe(), Oe(a, !0), Ue(!0)], arguments), this.throwIfRoot_(\"putString\");\n          var n = v(t, e),\n              o = Object.assign({}, r);\n          return !N(o.contentType) && N(n.contentType) && (o.contentType = n.contentType), new Ne(this, this.authWrapper, this.location, this.mappings(), new H(n.data, !0), o);\n        }, r.prototype.delete = function () {\n          var s = this;\n          return Ee(\"delete\", [], arguments), this.throwIfRoot_(\"delete\"), this.authWrapper.getAuthToken().then(function (e) {\n            var t,\n                r,\n                n,\n                o,\n                i,\n                a = (t = s.authWrapper, r = s.location, n = V(r.fullServerUrl()), o = t.maxOperationRetryTime(), (i = new ce(n, \"DELETE\", function (e, t) {}, o)).successCodes = [200, 204], i.errorHandler = ve(r), i);\n            return s.authWrapper.makeRequest(a, e).getPromise();\n          });\n        }, r.prototype.listAll = function () {\n          Ee(\"listAll\", [], arguments);\n          var e = {\n            prefixes: [],\n            items: []\n          };\n          return this.listAllHelper(e).then(function () {\n            return e;\n          });\n        }, r.prototype.listAllHelper = function (i, a) {\n          return s = this, c = function c() {\n            var t, r, n, o;\n            return e(this, function (e) {\n              switch (e.label) {\n                case 0:\n                  return t = {\n                    pageToken: a\n                  }, [4, this.list(t)];\n\n                case 1:\n                  return r = e.sent(), (n = i.prefixes).push.apply(n, r.prefixes), (o = i.items).push.apply(o, r.items), null == r.nextPageToken ? [3, 3] : [4, this.listAllHelper(i, r.nextPageToken)];\n\n                case 2:\n                  e.sent(), e.label = 3;\n\n                case 3:\n                  return [2];\n              }\n            });\n          }, new ((l = u = void 0) || (l = Promise))(function (e, t) {\n            function r(e) {\n              try {\n                o(c.next(e));\n              } catch (e) {\n                t(e);\n              }\n            }\n\n            function n(e) {\n              try {\n                o(c.throw(e));\n              } catch (e) {\n                t(e);\n              }\n            }\n\n            function o(t) {\n              t.done ? e(t.value) : new l(function (e) {\n                e(t.value);\n              }).then(r, n);\n            }\n\n            o((c = c.apply(s, u || [])).next());\n          });\n          var s, u, l, c;\n        }, r.prototype.list = function (n) {\n          var e;\n          Ee(\"list\", [(e = !0, new ke(le, e))], arguments);\n          var o = this;\n          return this.authWrapper.getAuthToken().then(function (e) {\n            var t = n || {},\n                r = function (e, t, r, n, o) {\n              var i = {};\n              t.isRoot ? i.prefix = \"\" : i.prefix = t.path + \"/\", r && 0 < r.length && (i.delimiter = r), n && (i.pageToken = n), o && (i.maxResults = o);\n              var a = V(t.bucketOnlyServerUrl()),\n                  s = e.maxOperationRetryTime(),\n                  u = new ce(a, \"GET\", fe(e), s);\n              return u.urlParams = i, u.errorHandler = _e(t), u;\n            }(o.authWrapper, o.location, \"/\", t.pageToken, t.maxResults);\n\n            return o.authWrapper.makeRequest(r, e).getPromise();\n          });\n        }, r.prototype.getMetadata = function () {\n          var r = this;\n          return Ee(\"getMetadata\", [], arguments), this.throwIfRoot_(\"getMetadata\"), this.authWrapper.getAuthToken().then(function (e) {\n            var t = be(r.authWrapper, r.location, r.mappings());\n            return r.authWrapper.makeRequest(t, e).getPromise();\n          });\n        }, r.prototype.updateMetadata = function (c) {\n          var p = this;\n          return Ee(\"updateMetadata\", [Ue()], arguments), this.throwIfRoot_(\"updateMetadata\"), this.authWrapper.getAuthToken().then(function (e) {\n            var t,\n                r,\n                n,\n                o,\n                i,\n                a,\n                s,\n                u,\n                l = (t = p.authWrapper, r = p.location, n = c, o = p.mappings(), i = V(r.fullServerUrl()), a = te(n, o), s = t.maxOperationRetryTime(), (u = new ce(i, \"PATCH\", he(t, o), s)).headers = {\n              \"Content-Type\": \"application/json; charset=utf-8\"\n            }, u.body = a, u.errorHandler = ve(r), u);\n            return p.authWrapper.makeRequest(l, e).getPromise();\n          });\n        }, r.prototype.getDownloadURL = function () {\n          var u = this;\n          return Ee(\"getDownloadURL\", [], arguments), this.throwIfRoot_(\"getDownloadURL\"), this.authWrapper.getAuthToken().then(function (e) {\n            var t,\n                r,\n                n,\n                o,\n                i,\n                a,\n                s = (t = u.authWrapper, r = u.location, n = u.mappings(), o = V(r.fullServerUrl()), i = t.maxOperationRetryTime(), (a = new ce(o, \"GET\", de(t, n), i)).errorHandler = ve(r), a);\n            return u.authWrapper.makeRequest(s, e).getPromise().then(function (e) {\n              if (null === e) throw new b(m.NO_DOWNLOAD_URL, \"The given file does not have any download URLs.\");\n              return e;\n            });\n          });\n        }, r.prototype.throwIfRoot_ = function (e) {\n          if (\"\" === this.location.path) throw t = e, new b(m.INVALID_ROOT_OPERATION, \"The operation '\" + t + \"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').\");\n          var t;\n        }, r;\n      }(),\n          Le = function () {\n        function e(e) {\n          this.promise_ = Promise.reject(e);\n        }\n\n        return e.prototype.getPromise = function () {\n          return this.promise_;\n        }, e.prototype.cancel = function (e) {}, e;\n      }(),\n          Ie = function () {\n        function e() {\n          this.map = new Map(), this.id = -9007199254740991;\n        }\n\n        return e.prototype.addRequest = function (e) {\n          var t = this,\n              r = this.id;\n          this.id++, this.map.set(r, e), e.getPromise().then(function () {\n            return t.map.delete(r);\n          }, function () {\n            return t.map.delete(r);\n          });\n        }, e.prototype.clear = function () {\n          this.map.forEach(function (e) {\n            e && e.cancel(!0);\n          }), this.map.clear();\n        }, e;\n      }(),\n          De = function () {\n        function a(e, t, r, n, o) {\n          if (this.bucket_ = null, this.deleted_ = !1, this.app_ = e, null !== this.app_) {\n            var i = this.app_.options;\n            N(i) && (this.bucket_ = a.extractBucket_(i));\n          }\n\n          this.storageRefMaker_ = t, this.requestMaker_ = r, this.pool_ = o, this.service_ = n, this.maxOperationRetryTime_ = 12e4, this.maxUploadRetryTime_ = 6e4, this.requestMap_ = new Ie();\n        }\n\n        return a.extractBucket_ = function (e) {\n          var t = e[p] || null;\n          return null == t ? null : z.makeFromBucketSpec(t).bucket;\n        }, a.prototype.getAuthToken = function () {\n          return null !== this.app_ && N(this.app_.INTERNAL) && N(this.app_.INTERNAL.getToken) ? this.app_.INTERNAL.getToken().then(function (e) {\n            return null !== e ? e.accessToken : null;\n          }, function () {\n            return null;\n          }) : Promise.resolve(null);\n        }, a.prototype.bucket = function () {\n          if (this.deleted_) throw c();\n          return this.bucket_;\n        }, a.prototype.service = function () {\n          return this.service_;\n        }, a.prototype.makeStorageReference = function (e) {\n          return this.storageRefMaker_(this, e);\n        }, a.prototype.makeRequest = function (e, t) {\n          if (this.deleted_) return new Le(c());\n          var r = this.requestMaker_(e, t, this.pool_);\n          return this.requestMap_.addRequest(r), r;\n        }, a.prototype.deleteApp = function () {\n          this.deleted_ = !0, this.app_ = null, this.requestMap_.clear();\n        }, a.prototype.maxUploadRetryTime = function () {\n          return this.maxUploadRetryTime_;\n        }, a.prototype.setMaxUploadRetryTime = function (e) {\n          this.maxUploadRetryTime_ = e;\n        }, a.prototype.maxOperationRetryTime = function () {\n          return this.maxOperationRetryTime_;\n        }, a.prototype.setMaxOperationRetryTime = function (e) {\n          this.maxOperationRetryTime_ = e;\n        }, a;\n      }();\n\n      var Me = function () {\n        function e(e, t, r, n, o, i, a, s, u, l, c) {\n          var p = this;\n          this.pendingXhr_ = null, this.backoffId_ = null, this.resolve_ = null, this.reject_ = null, this.canceled_ = !1, this.appDelete_ = !1, this.url_ = e, this.method_ = t, this.headers_ = r, this.body_ = n, this.successCodes_ = o.slice(), this.additionalRetryCodes_ = i.slice(), this.callback_ = a, this.errorCallback_ = s, this.progressCallback_ = l, this.timeout_ = u, this.pool_ = c, this.promise_ = new Promise(function (e, t) {\n            p.resolve_ = e, p.reject_ = t, p.start_();\n          });\n        }\n\n        return e.prototype.start_ = function () {\n          var s = this;\n\n          function e(e, t) {\n            var r,\n                n = s.resolve_,\n                o = s.reject_,\n                i = t.xhr;\n            if (t.wasSuccessCode) try {\n              var a = s.callback_(i, i.getResponseText());\n              P(a) ? n(a) : n();\n            } catch (e) {\n              o(e);\n            } else null !== i ? ((r = u()).setServerResponseProp(i.getResponseText()), s.errorCallback_ ? o(s.errorCallback_(i, r)) : o(r)) : t.canceled ? o(r = s.appDelete_ ? c() : l()) : o(r = new b(m.RETRY_LIMIT_EXCEEDED, \"Max retry time for operation exceeded, please try again.\"));\n          }\n\n          this.canceled_ ? e(0, new We(!1, null, !0)) : this.backoffId_ = function (t, r, e) {\n            var n = 1,\n                o = null,\n                i = !1,\n                a = 0;\n\n            function s() {\n              return 2 === a;\n            }\n\n            var u = !1;\n\n            function l() {\n              for (var e = [], t = 0; t < arguments.length; t++) {\n                e[t] = arguments[t];\n              }\n\n              u || (u = !0, r.apply(null, e));\n            }\n\n            function c(e) {\n              o = setTimeout(function () {\n                o = null, t(p, s());\n              }, e);\n            }\n\n            function p(e) {\n              for (var t = [], r = 1; r < arguments.length; r++) {\n                t[r - 1] = arguments[r];\n              }\n\n              u || (e ? l.call.apply(l, [null, e].concat(t)) : s() || i ? l.call.apply(l, [null, e].concat(t)) : (n < 64 && (n *= 2), c(1 === a ? (a = 2, 0) : 1e3 * (n + Math.random()))));\n            }\n\n            var h = !1;\n\n            function f(e) {\n              h || (h = !0, u || (null !== o ? (e || (a = 2), clearTimeout(o), c(0)) : e || (a = 1)));\n            }\n\n            return c(0), setTimeout(function () {\n              f(i = !0);\n            }, e), f;\n          }(function (i, e) {\n            if (e) i(!1, new We(!1, null, !0));else {\n              var t = s.pool_.createXhrIo();\n              s.pendingXhr_ = t, null !== s.progressCallback_ && t.addUploadProgressListener(a), t.send(s.url_, s.method_, s.body_, s.headers_).then(function (e) {\n                null !== s.progressCallback_ && e.removeUploadProgressListener(a), s.pendingXhr_ = null;\n                var t = (e = e).getErrorCode() === w.NO_ERROR,\n                    r = e.getStatus();\n\n                if (t && !s.isRetryStatusCode_(r)) {\n                  var n = -1 !== s.successCodes_.indexOf(r);\n                  i(!0, new We(n, e));\n                } else {\n                  var o = e.getErrorCode() === w.ABORT;\n                  i(!1, new We(!1, null, o));\n                }\n              });\n            }\n\n            function a(e) {\n              var t = e.loaded,\n                  r = e.lengthComputable ? e.total : -1;\n              null !== s.progressCallback_ && s.progressCallback_(t, r);\n            }\n          }, e, this.timeout_);\n        }, e.prototype.getPromise = function () {\n          return this.promise_;\n        }, e.prototype.cancel = function (e) {\n          this.canceled_ = !0, this.appDelete_ = e || !1, null !== this.backoffId_ && (0, this.backoffId_)(!1), null !== this.pendingXhr_ && this.pendingXhr_.abort();\n        }, e.prototype.isRetryStatusCode_ = function (e) {\n          var t = 500 <= e && e < 600,\n              r = -1 !== [408, 429].indexOf(e),\n              n = -1 !== this.additionalRetryCodes_.indexOf(e);\n          return t || r || n;\n        }, e;\n      }(),\n          We = function We(e, t, r) {\n        this.wasSuccessCode = e, this.xhr = t, this.canceled = !!r;\n      };\n\n      function Be(e, t, r) {\n        var n,\n            o,\n            i,\n            a,\n            s = K(e.urlParams),\n            u = e.url + s,\n            l = Object.assign({}, e.headers);\n        return n = l, null !== (o = t) && 0 < o.length && (n.Authorization = \"Firebase \" + o), i = l, a = void 0 !== ze ? ze.SDK_VERSION : \"AppManager\", i[\"X-Firebase-Storage-Version\"] = \"webjs/\" + a, new Me(u, e.method, l, e.body, e.successCodes, e.additionalRetryCodes, e.handler, e.errorHandler, e.timeout, e.progressCallback, r);\n      }\n\n      var je,\n          qe = function () {\n        function e(e, t, r) {\n          if (this.bucket_ = null, this.authWrapper_ = new De(e, function (e, t) {\n            return new Pe(e, t);\n          }, Be, this, t), this.app_ = e, null != r) this.bucket_ = z.makeFromBucketSpec(r);else {\n            var n = this.authWrapper_.bucket();\n            null != n && (this.bucket_ = new z(n, \"\"));\n          }\n          this.internals_ = new Fe(this);\n        }\n\n        return e.prototype.ref = function (e) {\n          if (Ee(\"ref\", [Oe(function (e) {\n            if (\"string\" != typeof e) throw \"Path is not a string.\";\n            if (/^[A-Za-z]+:\\/\\//.test(e)) throw \"Expected child path but got a URL, use refFromURL instead.\";\n          }, !0)], arguments), null == this.bucket_) throw new Error(\"No Storage Bucket defined in Firebase Options.\");\n          var t = new Pe(this.authWrapper_, this.bucket_);\n          return null != e ? t.child(e) : t;\n        }, e.prototype.refFromURL = function (e) {\n          return Ee(\"refFromURL\", [Oe(function (e) {\n            if (\"string\" != typeof e) throw \"Path is not a string.\";\n            if (!/^[A-Za-z]+:\\/\\//.test(e)) throw \"Expected full URL but got a child path, use ref instead.\";\n\n            try {\n              z.makeFromUrl(e);\n            } catch (e) {\n              throw \"Expected valid full URL but got an invalid one.\";\n            }\n          }, !1)], arguments), new Pe(this.authWrapper_, e);\n        }, Object.defineProperty(e.prototype, \"maxUploadRetryTime\", {\n          get: function get() {\n            return this.authWrapper_.maxUploadRetryTime();\n          },\n          enumerable: !0,\n          configurable: !0\n        }), e.prototype.setMaxUploadRetryTime = function (e) {\n          Ee(\"setMaxUploadRetryTime\", [Ae()], arguments), this.authWrapper_.setMaxUploadRetryTime(e);\n        }, e.prototype.setMaxOperationRetryTime = function (e) {\n          Ee(\"setMaxOperationRetryTime\", [Ae()], arguments), this.authWrapper_.setMaxOperationRetryTime(e);\n        }, Object.defineProperty(e.prototype, \"app\", {\n          get: function get() {\n            return this.app_;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"INTERNAL\", {\n          get: function get() {\n            return this.internals_;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), e;\n      }(),\n          Fe = function () {\n        function e(e) {\n          this.service_ = e;\n        }\n\n        return e.prototype.delete = function () {\n          return this.service_.authWrapper_.deleteApp(), Promise.resolve();\n        }, e;\n      }();\n\n      function He(e, t, r) {\n        return new qe(e, new q(), r);\n      }\n\n      je = {\n        TaskState: C,\n        TaskEvent: R,\n        StringFormat: _,\n        Storage: qe,\n        Reference: Pe\n      }, ze.INTERNAL.registerService(\"storage\", He, je, void 0, !0);\n    }).apply(this, arguments);\n  } catch (e) {\n    throw console.error(e), new Error(\"Cannot instantiate firebase-storage - be sure to load firebase-app.js first.\");\n  }\n});","map":null,"metadata":{},"sourceType":"script"}