{"map":"{\"version\":3,\"sources\":[\"/Users/danielobedortegahernandez/iCloud/Documents/GitHub/backoffice/src/views/Owner/Stores/List.js\",\"/Users/danielobedortegahernandez/iCloud/Documents/GitHub/backoffice/src/Actions/DbCrud.js\"],\"names\":[\"List\",\"props\",\"_this\",\"Object\",\"_Users_danielobedortegahernandez_iCloud_Documents_GitHub_backoffice_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__\",\"this\",\"_Users_danielobedortegahernandez_iCloud_Documents_GitHub_backoffice_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__\",\"_Users_danielobedortegahernandez_iCloud_Documents_GitHub_backoffice_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__\",\"call\",\"state\",\"loader\",\"modal\",\"IdDelete\",\"nameDelete\",\"options\",\"sortIndicator\",\"hideSizePerPage\",\"paginationSize\",\"hidePageListOnlyOnePage\",\"alwaysShowAllBtns\",\"withFirstAndLast\",\"editFormatter\",\"bind\",\"_Users_danielobedortegahernandez_iCloud_Documents_GitHub_backoffice_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__\",\"load\",\"setState\",\"row\",\"_id\",\"name\",\"delete\",\"closeLoader\",\"router\",\"localStorage\",\"clear\",\"setItem\",\"JSON\",\"stringify\",\"history\",\"push\",\"pathname\",\"cell\",\"react__WEBPACK_IMPORTED_MODULE_6___default\",\"a\",\"createElement\",\"reactstrap__WEBPACK_IMPORTED_MODULE_8__\",\"onClick\",\"callEdit\",\"size\",\"className\",\"toggleOpen\",\"style\",\"fontSize\",\"xs\",\"md\",\"addonType\",\"type\",\"id\",\"placeholder\",\"color\",\"react_bootstrap_table__WEBPACK_IMPORTED_MODULE_9__\",\"data\",\"obj\",\"listStores\",\"striped\",\"hover\",\"width\",\"dataField\",\"dataFormat\",\"dataAlign\",\"isKey\",\"hidden\",\"isOpen\",\"toggle\",\"toogleClose\",\"deleteProduct\",\"position\",\"top\",\"react_loadingg__WEBPACK_IMPORTED_MODULE_12__\",\"Component\",\"connect\",\"DaoStores\",\"dispatch\",\"colletion\",\"body\",\"DbCrud\",\"dbMLoad\",\"_Firebase_js__WEBPACK_IMPORTED_MODULE_0__\",\"__webpack_require__\",\"redux_form__WEBPACK_IMPORTED_MODULE_1__\",\"db\",\"firebase\",\"firestore\",\"UrlServerless\",\"objDb\",\"e\",\"dateRef\",\"refs\",\"formData\",\"latitude\",\"longitude\",\"valorTmp\",\"field\",\"document\",\"getElementById\",\"value\",\"format\",\"parseFloat\",\"GeoPoint\",\"route\",\"method\",\"arguments\",\"length\",\"undefined\",\"callFuntion\",\"queryUrl\",\"requestOptions\",\"headers\",\"Content-Type\",\"fetch\",\"then\",\"json\",\"catch\",\"error\",\"console\",\"log\",\"dbFindRegister\",\"file\",\"collection\",\"where\",\"get\",\"snapshot\",\"forEach\",\"doc\",\"dbFindColletion\",\"dbCreate\",\"component\",\"add\",\"docRef\",\"reset\",\"dbDelete\",\"documentId\",\"dbUpdate\",\"update\",\"dbEditFile\",\"fileEdit\",\"newFileEdit\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React, { Component } from 'react';\\nimport { connect } from 'react-redux';\\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Row, InputGroup, InputGroupAddon, InputGroupText, Input, Col, Card, CardHeader, CardBody, Button, ButtonGroup } from 'reactstrap';\\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\\nimport 'react-bootstrap-table/dist//react-bootstrap-table-all.min.css';\\nimport DbCrud from '../../../Actions/DbCrud';\\nimport { CommonLoading } from 'react-loadingg';\\n \\n/**\\n * Compoenente que permite listar todos los paises que existen en la base de datos\\n*/\\nclass List extends Component {\\n\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      loader:false,\\n      modal:false,\\n      IdDelete:null,\\n      nameDelete:null,\\n    }\\n\\n    this.options = {\\n      sortIndicator: true,\\n      hideSizePerPage: true,\\n      paginationSize: 5,\\n      hidePageListOnlyOnePage: true,\\n      alwaysShowAllBtns: false,\\n      withFirstAndLast: false\\n    }\\n    this.editFormatter = this.editFormatter.bind(this);\\n  }\\n\\n  /**Metodo que se ejecuta automaticamente cada vez que el componente es llamado */\\n  componentDidMount() {\\n    this.props.load('loadStores', \\\"stores/back/find\\\",{});\\n  }\\n\\n  toogleClose(){\\n    this.setState({\\n      modal: !this.state.modal\\n    });\\n  }\\n\\n  //Cambia el valor a visible del mensaje de alerta \\n  //guarda el identificador de la fila que sera afectada \\n  toggleOpen(row) {\\n    this.setState({\\n      modal: !this.state.modal,\\n      IdDelete: row._id,\\n      nameDelete: row.name\\n    });\\n  }\\n\\n  deleteProduct(row){\\n    this.setState({loader:!this.state.loader});\\n    this.props.delete('deleteProducts', \\\"products/delete\\\",this.state.IdDelete,this.closeLoader.bind(this));\\n  }\\n\\n  //Funcion que permite hacer la llamada al formulario para editar un nuevo registro \\n  callEdit(row) {\\n    var router = '/Products/Edit/'\\n    localStorage.clear();\\n    localStorage.setItem('row', JSON.stringify(row));\\n    if(row._id != \\\"NaN\\\") router = '/Stores/Edit/'+row._id\\n    this.props.history.push({\\n      pathname: router,\\n      row:row\\n    })\\n  }\\n\\n  //Funcion que construye los botones de ediccion para cada registro listado en la tabla \\n  editFormatter(cell, row) {\\n    return (\\n      <ButtonGroup>\\n        <Button onClick={this.callEdit.bind(this, row)} size=\\\"sm\\\" className=\\\"btn-spotify btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm\\\">\\n          <i className=\\\"icon-pencil\\\"></i>\\n        </Button>\\n        <Button onClick={this.toggleOpen.bind(this, row)}  size=\\\"sm\\\" className=\\\"btn-reddit btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm\\\">\\n          <i className=\\\"icon-trash\\\"></i>\\n        </Button>\\n      </ButtonGroup>\\n    )\\n  }\\n\\n  render() {\\n    return (\\n      <div className=\\\"animated\\\">\\n        <Card>\\n          <CardHeader>\\n            Lista de Tiendas\\n            <div className=\\\"card-header-actions\\\">\\n              <Row>\\n                <Button size=\\\"sm\\\" style={{fontSize:\\\"medium\\\"}} onClick=\\\"\\\" className=\\\"float-right btn btn-success active\\\">\\n                  + Crear Tienda\\n                </Button>\\n              </Row>\\n            </div>\\n          </CardHeader>\\n          <CardBody>\\n            <Col xs=\\\"12\\\" md=\\\"12\\\">\\n                <Row>\\n                    <Col xs=\\\"12\\\" md=\\\"3\\\">\\n                    <InputGroup>\\n                        <InputGroupAddon addonType=\\\"prepend\\\">\\n                        <InputGroupText>\\n                            <i className=\\\"fa icon-layers\\\"></i>\\n                        </InputGroupText>\\n                        </InputGroupAddon>\\n                        <Input type=\\\"text\\\" id=\\\"findFilterAll\\\" name=\\\"findFilterAll\\\" placeholder=\\\"Nombre, Cód, Refe, SKU\\\" />\\n                        <InputGroupAddon addonType=\\\"append\\\">\\n                            <Button type=\\\"button\\\" onClick='' color=\\\"primary\\\">Buscar</Button>\\n                        </InputGroupAddon>\\n                    </InputGroup>\\n                    </Col>\\n                </Row>\\n            </Col>\\n          </CardBody>\\n          <CardBody>\\n              <BootstrapTable  data={this.props.obj.listStores} striped hover options={this.options}> \\n              <TableHeaderColumn width={'16%'} dataField='name' >Nombre</TableHeaderColumn>\\n              <TableHeaderColumn width={'16%'} dataField='invitation' >Invitation</TableHeaderColumn>\\n              <TableHeaderColumn width={'16%'} dataField='fee' >Comisión</TableHeaderColumn>\\n              <TableHeaderColumn width={'16%'} dataField='feePay' >Comisión Pago</TableHeaderColumn>\\n              <TableHeaderColumn width={'16%'} dataField='discount' >Descuento</TableHeaderColumn>\\n              <TableHeaderColumn dataFormat={this.editFormatter.bind(this)} width={'5%'} dataAlign='center'>Accion</TableHeaderColumn>\\n              <TableHeaderColumn isKey={true} dataField='_id' hidden>Identifier ID</TableHeaderColumn>\\n            </BootstrapTable>\\n          </CardBody>\\n        </Card>\\n        <Modal isOpen={this.state.modal} toggle={this.toogleClose.bind(this)} className={'modal-danger '}>\\n          <ModalHeader toggle={this.toogleClose.bind(this)}>Alerta</ModalHeader>\\n          <ModalBody>Esta seguro que desea eliminar el producto {this.state.nameDelete}</ModalBody>\\n          <ModalFooter>\\n            <Button color=\\\"danger\\\" onClick={this.deleteProduct.bind(this)} >Eliminar</Button>{' '}\\n            <Button color=\\\"secondary\\\" onClick={this.toogleClose.bind(this)}>Cancel</Button>\\n          </ModalFooter>\\n        </Modal>\\n        <Modal isOpen={this.state.loader} className={'modal-lg'}>\\n          <div style={{position:\\\"inherit\\\",top:\\\"300px\\\"}}><CommonLoading size=\\\"large\\\"/></div>\\n        </Modal>\\n      </div>\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = (state) => {\\n  //Registra el objeto la funcion que cargara el objeto en el estado\\n  return{\\n    obj:state.DaoStores\\n  }\\n}\\n\\nconst mapDispatchToProps = (dispatch) => {\\n  return {\\n    load: (type, colletion, body) => {\\n      DbCrud.dbMLoad(dispatch, type, colletion, body, \\\"POST\\\");\\n    },\\n    delete: (type, colletion, id) => {\\n      DbCrud.dbMLoad(dispatch, type, colletion,{_id:id}, \\\"PUT\\\");\\n    }\\n  }\\n}\\n\\nexport default connect(mapStateToProps, mapDispatchToProps)(List);\\n\",\"import firebase from './Firebase.js';\\nimport { reset } from 'redux-form';\\nlet db = firebase.firestore();\\n\\nvar UrlServerless = \\\"https://us-central1-serverless-278902.cloudfunctions.net/serverless\\\";\\n//var UrlLocal = \\\"http://localhost:5555\\\";\\n\\n\\nfunction dbMLoad(dispatch, type, route, body, method = 'POST', callFuntion = () => {}){\\n    \\n    //console.log(\\\"llego la solicitud DbCrud dbMload\\\")\\n    var queryUrl = UrlServerless+\\\"/\\\"+route;\\n    const requestOptions = {\\n        method: method,\\n        headers: { \\n            \\\"Content-Type\\\": \\\"application/json\\\"\\n        },\\n        body:JSON.stringify(body)\\n     };\\n\\n    // Where we're fetching data from\\n    fetch(queryUrl,requestOptions)\\n    .then(data => data.json())\\n    .then(data => {\\n        data.body = body;\\n        dispatch({ type: type, data: data });\\n        callFuntion(data);\\n    })\\n    // Catch any errors we hit and update the app\\n    .catch(function (error) {\\n        console.log(\\\"Error cargando datos \\\" + error);\\n    });      \\n}\\n\\n\\n\\n//Busca un registro puntual utilizando una llave o value fijo para en un campo o file \\nfunction dbFindRegister(dispatch, type, colletion, file, value) {\\n    db.collection(colletion)\\n        .where(file, \\\"==\\\", value).get()\\n        .then(function (snapshot) {\\n            snapshot.forEach(function (doc) {\\n                dispatch({ type: type, data: doc.data() })\\n            });\\n        })\\n        .catch(function (error) {\\n            console.log(\\\"Error getting documents: \\\" + error);\\n        });\\n}\\n\\n//Recupera todos los valores de una Collection de datos \\nfunction dbFindColletion(dispatch, type, colletion) {\\n    //Hacemos la llamada a la bd para buscar todos los datos de una collection\\n    db.collection(colletion)\\n        .get()\\n        .then(function (snapshot) {\\n            dispatch({ type: type, data: snapshot });\\n        })\\n        .catch(function (error) {\\n            console.log(\\\"Error getting documents: \\\" + error);\\n        });\\n}\\n\\nfunction objDb(e){\\n     //Recuperamos todos los objetos que tienen una etiqueta refs\\n     const dateRef = e.refs;\\n     const formData = {};\\n     var latitude = 0;\\n     var longitude = 0;\\n     var valorTmp = '';\\n     //Recorremos el array con todas las etiquetas refs\\n     for (const field in dateRef) {\\n         //Recuperamos el valor que tiene el objeto del formulario \\n         valorTmp = document.getElementById(field).value;\\n         //Como los tipos Geopoint se component de dos datos tenemos un if que nos permite identificarlos para posteriormente construir el array que correponde a la cordenada\\n         if (dateRef[field].props.format == 'latitude') latitude = parseFloat(valorTmp);\\n         else if (dateRef[field].props.format == 'longitude') longitude = parseFloat(valorTmp);\\n         else formData[field] = valorTmp;\\n         //Al utilizar maskaras en input utilizamos el caracter * que rechena valores blancos por lo que antes de almacenar \\n         //en la bd tenemos que retirar estos caracteres\\n     }\\n \\n     if (latitude != 0 && longitude != 0) formData[\\\"geopoint\\\"] = new firebase.firestore.GeoPoint(latitude, longitude);\\n     return formData;\\n}\\n\\n//Crea un nuevo registro en la base de datos \\nfunction dbCreate(dispatch, type, colletion, component, e) {\\n    const formData = objDb(e);\\n    //Procedemos ha ingresar el valor en la collection, utilizando como documento id un valor autogenerado \\n    //dejamos que Firebase sea quien lo genere \\n    db.collection(colletion).add(formData)\\n        .then(function (docRef) {\\n            //agregamos al objeto nuevo el valor retornado de identificación \\n            formData[\\\"documentId\\\"] = docRef.id;\\n            //Para tener los listados actualizados reseteamos el componente listado\\n            dispatch(reset(component));\\n            //Ahora procedemos a llamar la funcion dispatcher quien se encargara de adicionar al state el nuevo objeto \\n            //sin tener que realizar una consulta a la bd para recargar los datos.\\n            dispatch({ type: type, data: formData });\\n        })\\n        .catch(function (error) { console.error(\\\"Error al crear documento \\\", error); });\\n}\\n\\n//Eliminar un registro o documento en una collection\\nfunction dbDelete(dispatch, type, colletion, component, documentId) {\\n    db.collection(colletion).doc(documentId).delete().then(function () {\\n        dispatch(reset(component));\\n        dispatch({ type: type, data: documentId });\\n    }).catch(function (error) { console.error(\\\"Error removing document: \\\", error); });\\n}\\n\\n//Actualizar un registro\\nfunction dbUpdate(dispatch, type, colletion, component, e, documentId) {\\n    const formData = objDb(e);\\n    formData[\\\"documentId\\\"] = documentId;\\n    // To update age and favorite color:\\n    db.collection(colletion).doc(documentId).update(formData)\\n    .then(function () {\\n        dispatch(reset(component));\\n        dispatch({ type: type, data: formData });\\n    });\\n\\n}\\n\\n//Actualizar el campo de un registro \\nfunction dbEditFile(dispatch, type, colletion, component, documentId, fileEdit, newFileEdit){\\n    const formData = {};\\n    formData[fileEdit] = newFileEdit;\\n    var coll = db.collection(colletion).doc(documentId)\\n    .update(formData)\\n    .then(function () {\\n        dispatch(reset(component));\\n        dispatch({ type: type, data: formData });\\n    });\\n}\\n\\nconst DbCrud = { dbMLoad, dbFindRegister, dbFindColletion, dbCreate, dbDelete, dbUpdate, dbEditFile }\\n\\nexport default DbCrud;\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1304:function(e,t,a){\"use strict\";a.r(t);var n=a(7),o=a(8),l=a(11),i=a(9),r=a(10),c=a(36),d=a(1),s=a.n(d),m=a(40),u=a(2),h=a(407),b=(a(408),a(321)),p=a(531),f=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={loader:!1,modal:!1,IdDelete:null,nameDelete:null},a.options={sortIndicator:!0,hideSizePerPage:!0,paginationSize:5,hidePageListOnlyOnePage:!0,alwaysShowAllBtns:!1,withFirstAndLast:!1},a.editFormatter=a.editFormatter.bind(Object(c.a)(Object(c.a)(a))),a}return Object(r.a)(t,e),Object(o.a)(t,[{key:\"componentDidMount\",value:function(){this.props.load(\"loadStores\",\"stores/back/find\",{})}},{key:\"toogleClose\",value:function(){this.setState({modal:!this.state.modal})}},{key:\"toggleOpen\",value:function(e){this.setState({modal:!this.state.modal,IdDelete:e._id,nameDelete:e.name})}},{key:\"deleteProduct\",value:function(e){this.setState({loader:!this.state.loader}),this.props.delete(\"deleteProducts\",\"products/delete\",this.state.IdDelete,this.closeLoader.bind(this))}},{key:\"callEdit\",value:function(e){var t=\"/Products/Edit/\";localStorage.clear(),localStorage.setItem(\"row\",JSON.stringify(e)),\"NaN\"!=e._id&&(t=\"/Stores/Edit/\"+e._id),this.props.history.push({pathname:t,row:e})}},{key:\"editFormatter\",value:function(e,t){return s.a.createElement(u.g,null,s.a.createElement(u.e,{onClick:this.callEdit.bind(this,t),size:\"sm\",className:\"btn-spotify btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm\"},s.a.createElement(\"i\",{className:\"icon-pencil\"})),s.a.createElement(u.e,{onClick:this.toggleOpen.bind(this,t),size:\"sm\",className:\"btn-reddit btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm\"},s.a.createElement(\"i\",{className:\"icon-trash\"})))}},{key:\"render\",value:function(){return s.a.createElement(\"div\",{className:\"animated\"},s.a.createElement(u.i,null,s.a.createElement(u.n,null,\"Lista de Tiendas\",s.a.createElement(\"div\",{className:\"card-header-actions\"},s.a.createElement(u.ib,null,s.a.createElement(u.e,{size:\"sm\",style:{fontSize:\"medium\"},onClick:\"\",className:\"float-right btn btn-success active\"},\"+ Crear Tienda\")))),s.a.createElement(u.j,null,s.a.createElement(u.u,{xs:\"12\",md:\"12\"},s.a.createElement(u.ib,null,s.a.createElement(u.u,{xs:\"12\",md:\"3\"},s.a.createElement(u.I,null,s.a.createElement(u.J,{addonType:\"prepend\"},s.a.createElement(u.K,null,s.a.createElement(\"i\",{className:\"fa icon-layers\"}))),s.a.createElement(u.H,{type:\"text\",id:\"findFilterAll\",name:\"findFilterAll\",placeholder:\"Nombre, C\\xf3d, Refe, SKU\"}),s.a.createElement(u.J,{addonType:\"append\"},s.a.createElement(u.e,{type:\"button\",onClick:\"\",color:\"primary\"},\"Buscar\"))))))),s.a.createElement(u.j,null,s.a.createElement(h.BootstrapTable,{data:this.props.obj.listStores,striped:!0,hover:!0,options:this.options},s.a.createElement(h.TableHeaderColumn,{width:\"16%\",dataField:\"name\"},\"Nombre\"),s.a.createElement(h.TableHeaderColumn,{width:\"16%\",dataField:\"invitation\"},\"Invitation\"),s.a.createElement(h.TableHeaderColumn,{width:\"16%\",dataField:\"fee\"},\"Comisi\\xf3n\"),s.a.createElement(h.TableHeaderColumn,{width:\"16%\",dataField:\"feePay\"},\"Comisi\\xf3n Pago\"),s.a.createElement(h.TableHeaderColumn,{width:\"16%\",dataField:\"discount\"},\"Descuento\"),s.a.createElement(h.TableHeaderColumn,{dataFormat:this.editFormatter.bind(this),width:\"5%\",dataAlign:\"center\"},\"Accion\"),s.a.createElement(h.TableHeaderColumn,{isKey:!0,dataField:\"_id\",hidden:!0},\"Identifier ID\")))),s.a.createElement(u.R,{isOpen:this.state.modal,toggle:this.toogleClose.bind(this),className:\"modal-danger \"},s.a.createElement(u.U,{toggle:this.toogleClose.bind(this)},\"Alerta\"),s.a.createElement(u.S,null,\"Esta seguro que desea eliminar el producto \",this.state.nameDelete),s.a.createElement(u.T,null,s.a.createElement(u.e,{color:\"danger\",onClick:this.deleteProduct.bind(this)},\"Eliminar\"),\" \",s.a.createElement(u.e,{color:\"secondary\",onClick:this.toogleClose.bind(this)},\"Cancel\"))),s.a.createElement(u.R,{isOpen:this.state.loader,className:\"modal-lg\"},s.a.createElement(\"div\",{style:{position:\"inherit\",top:\"300px\"}},s.a.createElement(p.CommonLoading,{size:\"large\"}))))}}]),t}(d.Component);t.default=Object(m.b)(function(e){return{obj:e.DaoStores}},function(e){return{load:function(t,a,n){b.a.dbMLoad(e,t,a,n,\"POST\")},delete:function(t,a,n){b.a.dbMLoad(e,t,a,{_id:n},\"PUT\")}}})(f)},321:function(e,t,a){\"use strict\";var n=a(31),o=a(328),l=n.a.firestore(),i=\"https://us-central1-serverless-278902.cloudfunctions.net/serverless\";function r(e){var t=e.refs,a={},o=0,l=0,i=\"\";for(var r in t)i=document.getElementById(r).value,\"latitude\"==t[r].props.format?o=parseFloat(i):\"longitude\"==t[r].props.format?l=parseFloat(i):a[r]=i;return 0!=o&&0!=l&&(a.geopoint=new n.a.firestore.GeoPoint(o,l)),a}var c={dbMLoad:function(e,t,a,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:\"POST\",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},r=i+\"/\"+a,c={method:o,headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(n)};fetch(r,c).then(function(e){return e.json()}).then(function(a){a.body=n,e({type:t,data:a}),l(a)}).catch(function(e){console.log(\"Error cargando datos \"+e)})},dbFindRegister:function(e,t,a,n,o){l.collection(a).where(n,\"==\",o).get().then(function(a){a.forEach(function(a){e({type:t,data:a.data()})})}).catch(function(e){console.log(\"Error getting documents: \"+e)})},dbFindColletion:function(e,t,a){l.collection(a).get().then(function(a){e({type:t,data:a})}).catch(function(e){console.log(\"Error getting documents: \"+e)})},dbCreate:function(e,t,a,n,i){var c=r(i);l.collection(a).add(c).then(function(a){c.documentId=a.id,e(Object(o.a)(n)),e({type:t,data:c})}).catch(function(e){console.error(\"Error al crear documento \",e)})},dbDelete:function(e,t,a,n,i){l.collection(a).doc(i).delete().then(function(){e(Object(o.a)(n)),e({type:t,data:i})}).catch(function(e){console.error(\"Error removing document: \",e)})},dbUpdate:function(e,t,a,n,i,c){var d=r(i);d.documentId=c,l.collection(a).doc(c).update(d).then(function(){e(Object(o.a)(n)),e({type:t,data:d})})},dbEditFile:function(e,t,a,n,i,r,c){var d={};d[r]=c,l.collection(a).doc(i).update(d).then(function(){e(Object(o.a)(n)),e({type:t,data:d})})}};t.a=c}}]);","extractedComments":[]}