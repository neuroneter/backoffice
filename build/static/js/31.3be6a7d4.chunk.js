(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1312:function(e,t,r){"use strict";r.r(t);var n=r(7),a=r(8),o=r(11),i=r(9),c=r(10),l=r(36),d=r(1),u=r.n(d),s=r(40),m=r(2),f=r(5),p=r(408),y=(r(409),r(320)),h=!0,E=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={tmpRow:"",danger:!1},r.options={sortIndicator:!0,hideSizePerPage:!0,paginationSize:3,hidePageListOnlyOnePage:!0,alwaysShowAllBtns:!1,withFirstAndLast:!1},r.toggleDanger=r.toggleDanger.bind(Object(l.a)(Object(l.a)(r))),r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){h&&(h=!1,this.props.loadReducer("loadGeo","geo"))}},{key:"toggleDanger",value:function(e){this.setState({danger:!this.state.danger,tmpRow:e.documentId})}},{key:"trashButton",value:function(){this.props.deleteReducer("deleteGeo","geo","CountriesList",this.state.tmpRow),this.setState({danger:!this.state.danger,tmpRow:""})}},{key:"editFormatter",value:function(e,t){return u.a.createElement(m.g,null,u.a.createElement(m.e,{onClick:this.callEdit.bind(this,t),size:"sm",className:"btn-spotify btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm"},u.a.createElement("i",{className:"icon-pencil"})),u.a.createElement(m.e,{onClick:this.toggleDanger.bind(this,t),size:"sm",className:"btn-reddit btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm"},u.a.createElement("i",{className:"icon-trash"})))}},{key:"callChild",value:function(e){this.props.history.push({pathname:"/Geo/StatesList/"+e.documentId})}},{key:"callAdd",value:function(){this.props.history.push("/Geo/CountriesAdd")}},{key:"callEdit",value:function(e){this.props.history.push({pathname:"/Geo/CountriesAdd",row:e})}},{key:"callEditActive",value:function(e){1==e.active?e.active=0:e.active=1,this.props.editFileReducer("editFileGeo","geo","CountriesList",e.documentId,"active",e.active)}},{key:"loadStates",value:function(e,t){var r=this;return u.a.createElement(m.e,{size:"sm",onClick:function(){return r.callChild(t)},className:"btn-dropbox btn-brand text mr-1 mb-1 btn btn-secondary btn-lg"},"Ver Estados")}},{key:"geopoint",value:function(e,t){return u.a.createElement("div",null,"Lat: ",t.geopoint.latitude," Lon:",t.geopoint.longitude)}},{key:"active",value:function(e,t){return"1"==t.active?u.a.createElement(f.m,{onClick:this.callEditActive.bind(this,t),className:"mx-1",variant:"pill",color:"success",label:!0,checked:!0}):u.a.createElement(f.m,{onClick:this.callEditActive.bind(this,t),className:"mx-1",variant:"pill",color:"success",label:!0})}},{key:"render",value:function(){return u.a.createElement("div",{className:"animated"},u.a.createElement(m.i,null,u.a.createElement(m.n,null,"Lista de Paises",u.a.createElement("div",{className:"card-header-actions"},u.a.createElement("a",{href:"https://github.com/AllenFang/react-bootstrap-table",rel:"noopener noreferrer",target:"_blank",className:"card-header-action"},u.a.createElement("small",{className:"text-muted"},"Aprende")))),u.a.createElement(m.R,{isOpen:this.state.danger,toggle:this.toggleDanger,className:"modal-danger "+this.props.className},u.a.createElement(m.U,{toggle:this.toggleDanger},"Modal title"),u.a.createElement(m.S,null,"Esta seguro que desea eliminar el Pais, al hacerlo se eliminaran todos los Estados y ciudades Asociados"),u.a.createElement(m.T,null,u.a.createElement(m.e,{color:"danger",onClick:this.trashButton.bind(this)},"Eliminar")," ",u.a.createElement(m.e,{color:"secondary",onClick:this.toggleDanger},"Cancel"))),u.a.createElement(m.j,null,u.a.createElement(m.e,{color:"primary",onClick:this.callAdd.bind(this)},u.a.createElement("i",{className:"fa icon-plus"}),"\xa0Crear Pais"),u.a.createElement(p.BootstrapTable,{data:this.props.obj,striped:!0,hover:!0,pagination:!0,search:!0,options:this.options},u.a.createElement(p.TableHeaderColumn,{dataField:"countryName",dataSort:!0},"Pais"),u.a.createElement(p.TableHeaderColumn,{dataField:"isoCode"},"Iso Code"),u.a.createElement(p.TableHeaderColumn,{isKey:!0,dataField:"documentId",hidden:!0},"Identifier ID"),u.a.createElement(p.TableHeaderColumn,{dataFormat:this.geopoint},"Geo Punto"),u.a.createElement(p.TableHeaderColumn,{dataFormat:this.active.bind(this),dataAlign:"center"},"Activo"),u.a.createElement(p.TableHeaderColumn,{dataFormat:this.loadStates.bind(this),dataAlign:"right"},"Estados"),u.a.createElement(p.TableHeaderColumn,{dataFormat:this.editFormatter.bind(this),dataAlign:"right"},"Action")))))}}]),t}(d.Component);t.default=Object(s.b)(function(e){return{obj:e.DaoGeo}},function(e){return{loadReducer:function(t,r){y.a.dbFindColletion(e,t,r)},deleteReducer:function(t,r,n,a){y.a.dbDelete(e,t,r,n,a)},editFileReducer:function(t,r,n,a,o,i){y.a.dbEditFile(e,t,r,n,a,o,i)}}})(E)},320:function(e,t,r){"use strict";var n=r(31),a=r(325),o=n.a.firestore(),i="https://us-central1-serverless-278902.cloudfunctions.net/serverless";function c(e){var t=e.refs,r={},a=0,o=0,i="";for(var c in t)i=document.getElementById(c).value,"latitude"==t[c].props.format?a=parseFloat(i):"longitude"==t[c].props.format?o=parseFloat(i):r[c]=i;return 0!=a&&0!=o&&(r.geopoint=new n.a.firestore.GeoPoint(a,o)),r}var l={dbMLoad:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"POST",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},c=i+"/"+r,l={};"GET"!==a&&(l={method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),console.log(c),console.log(l),fetch(c,l).then(function(e){return e.json()}).then(function(r){r.body=n,e({type:t,data:r}),o(r)}).catch(function(e){console.log("Error cargando datos "+e)})},dbFindRegister:function(e,t,r,n,a){o.collection(r).where(n,"==",a).get().then(function(r){r.forEach(function(r){e({type:t,data:r.data()})})}).catch(function(e){console.log("Error getting documents: "+e)})},dbFindColletion:function(e,t,r){o.collection(r).get().then(function(r){e({type:t,data:r})}).catch(function(e){console.log("Error getting documents: "+e)})},dbCreate:function(e,t,r,n,i){var l=c(i);o.collection(r).add(l).then(function(r){l.documentId=r.id,e(Object(a.a)(n)),e({type:t,data:l})}).catch(function(e){console.error("Error al crear documento ",e)})},dbDelete:function(e,t,r,n,i){o.collection(r).doc(i).delete().then(function(){e(Object(a.a)(n)),e({type:t,data:i})}).catch(function(e){console.error("Error removing document: ",e)})},dbUpdate:function(e,t,r,n,i,l){var d=c(i);d.documentId=l,o.collection(r).doc(l).update(d).then(function(){e(Object(a.a)(n)),e({type:t,data:d})})},dbEditFile:function(e,t,r,n,i,c,l){var d={};d[c]=l,o.collection(r).doc(i).update(d).then(function(){e(Object(a.a)(n)),e({type:t,data:d})})}};t.a=l},325:function(e,t,r){"use strict";var n=r(364),a=r.n(n),o="@@redux-form/",i=o+"BLUR",c=o+"CHANGE",l=o+"FOCUS",d=o+"RESET",u=o+"SUBMIT",s=o+"TOUCH",m={arrayInsert:function(e,t,r,n){return{type:"@@redux-form/ARRAY_INSERT",meta:{form:e,field:t,index:r},payload:n}},arrayMove:function(e,t,r,n){return{type:"@@redux-form/ARRAY_MOVE",meta:{form:e,field:t,from:r,to:n}}},arrayPop:function(e,t){return{type:"@@redux-form/ARRAY_POP",meta:{form:e,field:t}}},arrayPush:function(e,t,r){return{type:"@@redux-form/ARRAY_PUSH",meta:{form:e,field:t},payload:r}},arrayRemove:function(e,t,r){return{type:"@@redux-form/ARRAY_REMOVE",meta:{form:e,field:t,index:r}}},arrayRemoveAll:function(e,t){return{type:"@@redux-form/ARRAY_REMOVE_ALL",meta:{form:e,field:t}}},arrayShift:function(e,t){return{type:"@@redux-form/ARRAY_SHIFT",meta:{form:e,field:t}}},arraySplice:function(e,t,r,n,a){var o={type:"@@redux-form/ARRAY_SPLICE",meta:{form:e,field:t,index:r,removeNum:n}};return void 0!==a&&(o.payload=a),o},arraySwap:function(e,t,r,n){if(r===n)throw new Error("Swap indices cannot be equal");if(r<0||n<0)throw new Error("Swap indices cannot be negative");return{type:"@@redux-form/ARRAY_SWAP",meta:{form:e,field:t,indexA:r,indexB:n}}},arrayUnshift:function(e,t,r){return{type:"@@redux-form/ARRAY_UNSHIFT",meta:{form:e,field:t},payload:r}},autofill:function(e,t,r){return{type:"@@redux-form/AUTOFILL",meta:{form:e,field:t},payload:r}},blur:function(e,t,r,n){return{type:i,meta:{form:e,field:t,touch:n},payload:r}},change:function(e,t,r,n,a){return{type:c,meta:{form:e,field:t,touch:n,persistentSubmitErrors:a},payload:r}},clearFields:function(e,t,r){for(var n=arguments.length,a=new Array(n>3?n-3:0),o=3;o<n;o++)a[o-3]=arguments[o];return{type:"@@redux-form/CLEAR_FIELDS",meta:{form:e,keepTouched:t,persistentSubmitErrors:r,fields:a}}},clearSubmit:function(e){return{type:"@@redux-form/CLEAR_SUBMIT",meta:{form:e}}},clearSubmitErrors:function(e){return{type:"@@redux-form/CLEAR_SUBMIT_ERRORS",meta:{form:e}}},clearAsyncError:function(e,t){return{type:"@@redux-form/CLEAR_ASYNC_ERROR",meta:{form:e,field:t}}},destroy:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{type:"@@redux-form/DESTROY",meta:{form:t}}},focus:function(e,t){return{type:l,meta:{form:e,field:t}}},initialize:function(e,t,r,n){return void 0===n&&(n={}),r instanceof Object&&(n=r,r=!1),{type:"@@redux-form/INITIALIZE",meta:a()({form:e,keepDirty:r},n),payload:t}},registerField:function(e,t,r){return{type:"@@redux-form/REGISTER_FIELD",meta:{form:e},payload:{name:t,type:r}}},reset:function(e){return{type:d,meta:{form:e}}},resetSection:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return{type:"@@redux-form/RESET_SECTION",meta:{form:e,sections:r}}},startAsyncValidation:function(e,t){return{type:"@@redux-form/START_ASYNC_VALIDATION",meta:{form:e,field:t}}},startSubmit:function(e){return{type:"@@redux-form/START_SUBMIT",meta:{form:e}}},stopAsyncValidation:function(e,t){return{type:"@@redux-form/STOP_ASYNC_VALIDATION",meta:{form:e},payload:t,error:!(!t||!Object.keys(t).length)}},stopSubmit:function(e,t){return{type:"@@redux-form/STOP_SUBMIT",meta:{form:e},payload:t,error:!(!t||!Object.keys(t).length)}},submit:function(e){return{type:u,meta:{form:e}}},setSubmitFailed:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return{type:"@@redux-form/SET_SUBMIT_FAILED",meta:{form:e,fields:r},error:!0}},setSubmitSucceeded:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return{type:"@@redux-form/SET_SUBMIT_SUCCEEDED",meta:{form:e,fields:r},error:!1}},touch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return{type:s,meta:{form:e,fields:r}}},unregisterField:function(e,t,r){return void 0===r&&(r=!0),{type:"@@redux-form/UNREGISTER_FIELD",meta:{form:e},payload:{name:t,destroyOnUnmount:r}}},untouch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return{type:"@@redux-form/UNTOUCH",meta:{form:e,fields:r}}},updateSyncErrors:function(e,t,r){return void 0===t&&(t={}),{type:"@@redux-form/UPDATE_SYNC_ERRORS",meta:{form:e},payload:{syncErrors:t,error:r}}},updateSyncWarnings:function(e,t,r){return void 0===t&&(t={}),{type:"@@redux-form/UPDATE_SYNC_WARNINGS",meta:{form:e},payload:{syncWarnings:t,warning:r}}}};r.d(t,"a",function(){return f});var f=m.reset},364:function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r}}]);
//# sourceMappingURL=31.3be6a7d4.chunk.js.map