{"ast":null,"code":"import firebase from '../Pojo/Firebase.js';\nvar user = {\n  email: \"email\",\n  password: \"password\",\n  uid: \"uid\" //se pasa un estado por defecto para definicion de estructura\n\n};\n\nvar reducerLogin = function reducerLogin() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : user;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  // console.log(\"Llamada Dispacth reducerLogin \");\n  var NewState = Object.assign({}, state);\n\n  if (action.type == \"loadUser\") {\n    NewState.email = action.user.email;\n    NewState.uid = action.user.uid;\n    return NewState;\n  }\n\n  if (action.type == \"lInput\") {\n    if (action.idInput == \"email\") NewState.email = action.value;\n    if (action.idInput == \"password\") NewState.password = action.value;\n    return NewState;\n  }\n\n  if (action.type == \"login\") {\n    firebase.auth().signInWithEmailAndPassword(NewState.email, NewState.password).then(function () {\n      window.location = \"/\";\n    }).catch(function (error) {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      console.log(\"Usuario y/o Contrase침a incorrecta \" + errorCode + \" - \" + errorMessage);\n    });\n  }\n\n  if (action.type == \"logout\") {\n    firebase.auth().signOut().then(function () {\n      window.location = \"#/login\";\n    }).catch(function (error) {\n      console.log(\"Se ha precentado un erro al salir de la aplicaci칩n \" + error);\n    });\n  }\n\n  return state;\n};\n\nvar DaoLogin = {\n  reducerLogin: reducerLogin\n};\nexport default DaoLogin;","map":{"version":3,"sources":["/Users/danielobedortegahernandez/Documents/GitHub/bobSeller/src/Dao/DaoLogin.js"],"names":["firebase","user","email","password","uid","reducerLogin","state","action","NewState","Object","assign","type","idInput","value","auth","signInWithEmailAndPassword","then","window","location","catch","error","errorCode","code","errorMessage","message","console","log","signOut","DaoLogin"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,qBAArB;AAEA,IAAMC,IAAI,GAAG;AAACC,EAAAA,KAAK,EAAC,OAAP;AAAgBC,EAAAA,QAAQ,EAAC,UAAzB;AAAqCC,EAAAA,GAAG,EAAC,KAAzC,CAEb;;AAFa,CAAb;;AAGA,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAA0B;AAAA,MAAzBC,KAAyB,uEAAjBL,IAAiB;AAAA,MAAXM,MAAW;AAC3C;AACA,MAAIC,QAAQ,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiBJ,KAAjB,CAAf;;AACA,MAAGC,MAAM,CAACI,IAAP,IAAe,UAAlB,EAA6B;AACzBH,IAAAA,QAAQ,CAACN,KAAT,GAAiBK,MAAM,CAACN,IAAP,CAAYC,KAA7B;AACAM,IAAAA,QAAQ,CAACJ,GAAT,GAAeG,MAAM,CAACN,IAAP,CAAYG,GAA3B;AACA,WAAOI,QAAP;AACH;;AACD,MAAGD,MAAM,CAACI,IAAP,IAAe,QAAlB,EAA2B;AACvB,QAAGJ,MAAM,CAACK,OAAP,IAAkB,OAArB,EAA8BJ,QAAQ,CAACN,KAAT,GAAiBK,MAAM,CAACM,KAAxB;AAC9B,QAAGN,MAAM,CAACK,OAAP,IAAkB,UAArB,EAAiCJ,QAAQ,CAACL,QAAT,GAAoBI,MAAM,CAACM,KAA3B;AACjC,WAAOL,QAAP;AACH;;AACD,MAAGD,MAAM,CAACI,IAAP,IAAe,OAAlB,EAA0B;AACtBX,IAAAA,QAAQ,CAACc,IAAT,GAAgBC,0BAAhB,CAA2CP,QAAQ,CAACN,KAApD,EAA2DM,QAAQ,CAACL,QAApE,EACCa,IADD,CAEI,YAAU;AAACC,MAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AAAsB,KAFrC,EAICC,KAJD,CAIO,UAASC,KAAT,EAAgB;AACnB,UAAIC,SAAS,GAAGD,KAAK,CAACE,IAAtB;AACA,UAAIC,YAAY,GAAGH,KAAK,CAACI,OAAzB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,uCAAqCL,SAArC,GAA+C,KAA/C,GAAqDE,YAAjE;AACH,KARD;AASH;;AACD,MAAGhB,MAAM,CAACI,IAAP,IAAe,QAAlB,EAA2B;AACvBX,IAAAA,QAAQ,CAACc,IAAT,GAAgBa,OAAhB,GAA0BX,IAA1B,CAA+B,YAAW;AACtCC,MAAAA,MAAM,CAACC,QAAP,GAAkB,SAAlB;AACH,KAFD,EAEGC,KAFH,CAES,UAASC,KAAT,EAAgB;AACrBK,MAAAA,OAAO,CAACC,GAAR,CAAY,wDAAsDN,KAAlE;AACH,KAJD;AAKH;;AACD,SAAOd,KAAP;AACH,CAhCD;;AAkCA,IAAMsB,QAAQ,GAAG;AAACvB,EAAAA,YAAY,EAAZA;AAAD,CAAjB;AAEA,eAAeuB,QAAf","sourcesContent":["import firebase from '../Pojo/Firebase.js';\n\nconst user = {email:\"email\", password:\"password\", uid:\"uid\"}\n\n//se pasa un estado por defecto para definicion de estructura\nconst reducerLogin = (state = user, action) => {\n    // console.log(\"Llamada Dispacth reducerLogin \");\n    var NewState = Object.assign({},state);\n    if(action.type == \"loadUser\"){\n        NewState.email = action.user.email;\n        NewState.uid = action.user.uid;\n        return NewState;\n    }\n    if(action.type == \"lInput\"){\n        if(action.idInput == \"email\") NewState.email = action.value;\n        if(action.idInput == \"password\") NewState.password = action.value;\n        return NewState;\n    }\n    if(action.type == \"login\"){\n        firebase.auth().signInWithEmailAndPassword(NewState.email, NewState.password)\n        .then(\n            function(){window.location = \"/\"}\n        )\n        .catch(function(error) {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"Usuario y/o Contrase침a incorrecta \"+errorCode+\" - \"+errorMessage);\n        });\n    }\n    if(action.type == \"logout\"){\n        firebase.auth().signOut().then(function() {\n            window.location = \"#/login\";\n        }).catch(function(error) {\n            console.log(\"Se ha precentado un erro al salir de la aplicaci칩n \"+error)\n        });\n    }\n    return state;\n} \n\nconst DaoLogin = {reducerLogin}\n\nexport default DaoLogin;"]},"metadata":{},"sourceType":"module"}