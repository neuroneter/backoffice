(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1308:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(8),i=a(11),o=a(9),l=a(10),c=a(36),s=a(1),u=a.n(s),d=a(40),p=a(516),f=a(2),m=a(408),h=(a(409),a(320)),b=a(478),y=!0,E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={orders:{pag:"1",limit:"5",filFile:"",filValue:"",sorts:[{file:"oderDate",value:1}]}},a.options={sortIndicator:!0,hideSizePerPage:!0,paginationSize:5,hidePageListOnlyOnePage:!0,alwaysShowAllBtns:!1,withFirstAndLast:!1},a.pagLoad=a.pagLoad.bind(Object(c.a)(Object(c.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){y&&(y=!1,this.props.loadReducer("loadOrders","orders/find",this.state.orders),this.props.loadReducer("loadFilters","orders/filters",{}))}},{key:"callEdit",value:function(e){this.props.history.push({pathname:"/Orders/Edit/"+e.order+"/"+e.reference})}},{key:"toggleDanger",value:function(e){this.setState({danger:!this.state.danger,tmpRow:e.order})}},{key:"pagLoad",value:function(e,t){this.props.loadReducer("loadOrders","orders/find",{pag:e,limit:t,filFile:this.state.orders.filFile,filValue:this.state.orders.filValue,sorts:this.state.orders.sorts}),this.setState({orders:{pag:e,limit:t,filFile:this.state.orders.filFile,filValue:this.state.orders.filValue,sorts:this.state.orders.sorts}})}},{key:"onClickForm",value:function(e){var t=document.getElementById(e).value;"0"==t&&(t=""),this.props.loadReducer("loadOrders","orders/find",{pag:1,limit:5,filFile:e,filValue:t,sorts:this.state.orders.sorts}),this.setState({orders:{pag:1,limit:5,filFile:e,filValue:t,sorts:this.state.orders.sorts}})}},{key:"renderPagination",value:function(){return void 0!=this.props.obj.pagination.NumPages?u.a.createElement(b.a,{info:this.props.obj.pagination,pagLoad:this.pagLoad.bind()}):u.a.createElement("div",null,"Pag...")}},{key:"editFormatter",value:function(e,t){return u.a.createElement(f.g,null,u.a.createElement(f.e,{onClick:this.callEdit.bind(this,t),size:"sm",className:"btn-spotify btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm"},u.a.createElement("i",{className:"icon-pencil"})),u.a.createElement(f.e,{onClick:this.toggleDanger.bind(this,t),size:"sm",className:"btn-reddit btn-brand icon mr-1 mb-1 btn btn-secondary btn-sm"},u.a.createElement("i",{className:"icon-trash"})))}},{key:"filters",value:function(e){var t=this.props.obj.listFilters,a=[];return Object.keys(t).forEach(function(n){if(n==e)for(var r=0;r<t[n].length;r++){var i=n+""+r;0==r?a.push(u.a.createElement("option",{key:i,value:"0"},t[n][r])):a.push(u.a.createElement("option",{key:i,value:t[n][r]},t[n][r]))}}),a}},{key:"render",value:function(){return u.a.createElement("div",{className:"animated"},u.a.createElement(f.i,null,u.a.createElement(f.n,null,"Lista Ordenes",u.a.createElement("div",{className:"card-header-actions"},u.a.createElement(p.CSVLink,{data:this.props.obj.listOrders},"Descargar Busqueda"))),u.a.createElement(f.j,null,u.a.createElement(f.u,{xs:"12",md:"12"},u.a.createElement(f.ib,null,u.a.createElement(f.u,{xs:"12",md:"3"},u.a.createElement(f.I,null,u.a.createElement(f.H,{type:"select",name:"status",id:"status",key:"status"},this.filters("status")),u.a.createElement(f.J,{addonType:"append"},u.a.createElement(f.e,{type:"button",onClick:this.onClickForm.bind(this,"status"),color:"primary"},"Buscar")))),u.a.createElement(f.u,{xs:"12",md:"3"},u.a.createElement(f.I,null,u.a.createElement(f.H,{type:"select",name:"store",id:"store",key:"store"},this.filters("store")),u.a.createElement(f.J,{addonType:"append"},u.a.createElement(f.e,{type:"button",onClick:this.onClickForm.bind(this,"store"),color:"primary"},"Buscar")))),u.a.createElement(f.u,{xs:"12",md:"3"},u.a.createElement(f.I,null,u.a.createElement(f.H,{type:"select",name:"brand",id:"brand",key:"brand"},this.filters("brand")),u.a.createElement(f.J,{addonType:"append"},u.a.createElement(f.e,{type:"button",onClick:this.onClickForm.bind(this,"brand"),color:"primary"},"Buscar")))),u.a.createElement(f.u,{xs:"12",md:"3"},u.a.createElement(f.I,null,u.a.createElement(f.H,{type:"select",name:"supplier",id:"supplier",key:"supplier"},this.filters("supplier")),u.a.createElement(f.J,{addonType:"append"},u.a.createElement(f.e,{type:"button",onClick:this.onClickForm.bind(this,"supplier"),color:"primary"},"Buscar")))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(f.u,{xs:"12",md:"3"},u.a.createElement(f.I,null,u.a.createElement(f.J,{addonType:"prepend"},u.a.createElement(f.K,null,u.a.createElement("i",{className:"fa icon-layers"}))),u.a.createElement(f.H,{type:"text",id:"order",name:"order",placeholder:"# Orden"}),u.a.createElement(f.J,{addonType:"append"},u.a.createElement(f.e,{type:"button",onClick:this.onClickForm.bind(this,"order"),color:"primary"},"Buscar")))),u.a.createElement(f.u,{xs:"12",md:"3"},u.a.createElement(f.I,null,u.a.createElement(f.J,{addonType:"prepend"},u.a.createElement(f.K,null,u.a.createElement("i",{className:"fa fa-address-book-o"}))),u.a.createElement(f.H,{type:"text",id:"dni",name:"dni",placeholder:"# Documento"}),u.a.createElement(f.J,{addonType:"append"},u.a.createElement(f.e,{type:"button",onClick:this.onClickForm.bind(this,"dni"),color:"primary"},"Buscar")))),u.a.createElement(f.u,{xs:"12",md:"3"},u.a.createElement(f.I,null,u.a.createElement(f.J,{addonType:"prepend"},u.a.createElement(f.K,null,u.a.createElement("i",{className:"fa fa-address-book-o"}))),u.a.createElement(f.H,{type:"text",id:"customer",name:"customer",placeholder:"Nombre Cliente"}),u.a.createElement(f.J,{addonType:"append"},u.a.createElement(f.e,{type:"button",onClick:this.onClickForm.bind(this,"customer"),color:"primary"},"Buscar"))))))),u.a.createElement(f.j,null,u.a.createElement(f.ib,null,u.a.createElement(f.u,{xs:"12",md:"12"},u.a.createElement("div",{className:"pull-right"},this.renderPagination())))),u.a.createElement(f.j,null,u.a.createElement(m.BootstrapTable,{data:this.props.obj.listOrders,striped:!0,hover:!0,options:this.options,search:!0,multiColumnSearch:!0,strictSearch:!0},u.a.createElement(m.TableHeaderColumn,{width:"10%",dataField:"status",dataSort:!0},"Estado"),u.a.createElement(m.TableHeaderColumn,{width:"15%",dataField:"order"},"Orden"),u.a.createElement(m.TableHeaderColumn,{width:"25%",dataField:"customer"},"Cliente"),u.a.createElement(m.TableHeaderColumn,{width:"25%",dataField:"skuName"},"Producto"),u.a.createElement(m.TableHeaderColumn,{dataField:"city",width:"10%",className:"hidden-xs"},"Ciudad"),u.a.createElement(m.TableHeaderColumn,{dataField:"invoice",width:"10%"},"Factura"),u.a.createElement(m.TableHeaderColumn,{dataField:"unit",width:"10%"},"Procesado"),u.a.createElement(m.TableHeaderColumn,{dataField:"store"},"Tienda"),u.a.createElement(m.TableHeaderColumn,{dataFormat:this.editFormatter.bind(this),width:"10%",dataAlign:"right"},"Accion"),u.a.createElement(m.TableHeaderColumn,{isKey:!0,dataField:"_id",hidden:!0},"Identifier ID"))),u.a.createElement(f.j,null,u.a.createElement(f.ib,null,u.a.createElement(f.u,{xs:"12",md:"12"},u.a.createElement("div",{className:"pull-right"},this.renderPagination()))))))}}]),t}(s.Component);t.default=Object(d.b)(function(e){return{obj:e.DaoOrders}},function(e){return{loadReducer:function(t,a,n){h.a.dbMLoad(e,t,a,n)},editFileReducer:function(e,t,a,n,r,i){}}})(E)},320:function(e,t,a){"use strict";var n=a(31),r=a(325),i=n.a.firestore(),o="https://us-central1-serverless-278902.cloudfunctions.net/serverless";function l(e){var t=e.refs,a={},r=0,i=0,o="";for(var l in t)o=document.getElementById(l).value,"latitude"==t[l].props.format?r=parseFloat(o):"longitude"==t[l].props.format?i=parseFloat(o):a[l]=o;return 0!=r&&0!=i&&(a.geopoint=new n.a.firestore.GeoPoint(r,i)),a}var c={dbMLoad:function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"POST",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},l=o+"/"+a,c={};"GET"!==r&&(c={method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),console.log(l),console.log(c),fetch(l,c).then(function(e){return e.json()}).then(function(a){a.body=n,e({type:t,data:a}),i(a)}).catch(function(e){console.log("Error cargando datos "+e)})},dbFindRegister:function(e,t,a,n,r){i.collection(a).where(n,"==",r).get().then(function(a){a.forEach(function(a){e({type:t,data:a.data()})})}).catch(function(e){console.log("Error getting documents: "+e)})},dbFindColletion:function(e,t,a){i.collection(a).get().then(function(a){e({type:t,data:a})}).catch(function(e){console.log("Error getting documents: "+e)})},dbCreate:function(e,t,a,n,o){var c=l(o);i.collection(a).add(c).then(function(a){c.documentId=a.id,e(Object(r.a)(n)),e({type:t,data:c})}).catch(function(e){console.error("Error al crear documento ",e)})},dbDelete:function(e,t,a,n,o){i.collection(a).doc(o).delete().then(function(){e(Object(r.a)(n)),e({type:t,data:o})}).catch(function(e){console.error("Error removing document: ",e)})},dbUpdate:function(e,t,a,n,o,c){var s=l(o);s.documentId=c,i.collection(a).doc(c).update(s).then(function(){e(Object(r.a)(n)),e({type:t,data:s})})},dbEditFile:function(e,t,a,n,o,l,c){var s={};s[l]=c,i.collection(a).doc(o).update(s).then(function(){e(Object(r.a)(n)),e({type:t,data:s})})}};t.a=c},431:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var i=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},o=t.isJsons=function(e){return Array.isArray(e)&&e.every(function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&!(e instanceof Array)})},l=t.isArrays=function(e){return Array.isArray(e)&&e.every(function(e){return Array.isArray(e)})},c=t.jsonsHeaders=function(e){return Array.from(e.map(function(e){return Object.keys(e)}).reduce(function(e,t){return new Set([].concat(r(e),r(t)))},[]))},s=t.jsons2arrays=function(e,t){var a=t=t||c(e),n=t;o(t)&&(a=t.map(function(e){return e.label}),n=t.map(function(e){return e.key}));var i=e.map(function(e){return n.map(function(t){return u(t,e)})});return[a].concat(r(i))},u=t.getHeaderValue=function(e,t){var a=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(e,t,a,n){if(void 0!==e[t])return e[t];n.splice(1)},t);return void 0===a?e in t?t[e]:"":a},d=t.elementOrEmpty=function(e){return e||0===e?e:""},p=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter(function(e){return e}).map(function(e){return e.map(function(e){return d(e)}).map(function(e){return""+a+e+a}).join(t)}).join("\n")},f=t.arrays2csv=function(e,t,a,n){return p(t?[t].concat(r(e)):e,a,n)},m=t.jsons2csv=function(e,t,a,n){return p(s(e,t),a,n)},h=t.string2csv=function(e,t,a,n){return t?t.join(a)+"\n"+e:e},b=t.toCSV=function(e,t,a,n){if(o(e))return m(e,t,a,n);if(l(e))return f(e,t,a,n);if("string"===typeof e)return h(e,t,a);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,a,n,r){var o=b(e,a,n,r),l=i()?"application/csv":"text/csv",c=new Blob([t?"\ufeff":"",o],{type:l}),s="data:"+l+";charset=utf-8,"+(t?"\ufeff":"")+o,u=window.URL||window.webkitURL;return"undefined"===typeof u.createObjectURL?s:u.createObjectURL(c)}},432:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var n,r=a(1),i=((n=r)&&n.__esModule,a(0));t.propTypes={data:(0,i.oneOfType)([i.string,i.array]).isRequired,headers:i.array,target:i.string,separator:i.string,filename:i.string,uFEFF:i.bool,onClick:i.func,asyncOnClick:i.bool},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1},t.PropsNotForwarded=["data","headers"]},478:function(e,t,a){"use strict";var n=a(7),r=a(8),i=a(11),o=a(9),l=a(10),c=a(1),s=a.n(c),u=a(2),d=a(537),p=a(538),f=a(459),m=a.n(f),h=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).pagMax=3,a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"callPagination",value:function(e,t,a){var n=parseInt(a.info.limit),r=1;"back"==e&&(r=parseInt(a.info.pag)-1),"allback"==e&&(r=1),"forward"==e&&(r=parseInt(a.info.pag)+1),"allforward"==e&&(r=parseInt(a.info.NumPages)),"cRegister"==e&&(n=parseInt(t),r=1),"nunPag"==e&&(r=parseInt(t)),a.pagLoad(r,n)}},{key:"paginationRender",value:function(e){var t=parseInt(e.NumPages),a=parseInt(e.pag),n=t;a+this.pagMax<t&&(n=a+this.pagMax);for(var r=[],i=a;i<=n;i++)i==a?r.push(s.a.createElement(u.cb,{key:"pag"+i,active:!0},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"nunPag",""+i,this.props)},i))):r.push(s.a.createElement(u.cb,{key:"pag"+i},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"nunPag",""+i,this.props)},i)));return r}},{key:"pagRender",value:function(){var e=this.paginationRender(this.props.info);return parseInt(this.props.info.NumPages)<=this.pagMax?s.a.createElement(u.bb,null,s.a.createElement(u.cb,{disabled:!0,key:"allback"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"allback",null,this.props)},s.a.createElement(d.a,{icon:p.a}))),s.a.createElement(u.cb,{disabled:!0,key:"back"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"back",null,this.props)},s.a.createElement(d.a,{icon:p.c}))),e,s.a.createElement(u.cb,{disabled:!0,key:"forward"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"forward",null,this.props)},s.a.createElement(d.a,{icon:p.d}))),s.a.createElement(u.cb,{disabled:!0,key:"allforward"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"allforward",null,this.props)},s.a.createElement(d.a,{icon:p.b})))):parseInt(this.props.info.pag)<=1?s.a.createElement(u.bb,null,s.a.createElement(u.cb,{disabled:!0,key:"allback"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"allback",null,this.props)},s.a.createElement(d.a,{icon:p.a}))),s.a.createElement(u.cb,{disabled:!0,key:"back"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"back",null,this.props)},s.a.createElement(d.a,{icon:p.c}))),e,s.a.createElement(u.cb,{key:"forward"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"forward",null,this.props)},s.a.createElement(d.a,{icon:p.d}))),s.a.createElement(u.cb,{key:"allforward"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"allforward",null,this.props)},s.a.createElement(d.a,{icon:p.b})))):parseInt(this.props.info.pag)>=parseInt(this.props.info.NumPages)?s.a.createElement(u.bb,null,s.a.createElement(u.cb,{key:"allback"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"allback",null,this.props)},s.a.createElement(d.a,{icon:p.a}))),s.a.createElement(u.cb,{key:"back"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"back",null,this.props)},s.a.createElement(d.a,{icon:p.c}))),e,s.a.createElement(u.cb,{disabled:!0,key:"forward"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"forward",null,this.props)},s.a.createElement(d.a,{icon:p.d}))),s.a.createElement(u.cb,{disabled:!0,key:"allforward"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"allforward",null,this.props)},s.a.createElement(d.a,{icon:p.b})))):s.a.createElement(u.bb,null,s.a.createElement(u.cb,{key:"allback"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"allback",null,this.props)},s.a.createElement(d.a,{icon:p.a}))),s.a.createElement(u.cb,{key:"back"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"back",null,this.props)},s.a.createElement(d.a,{icon:p.c}))),e,s.a.createElement(u.cb,{key:"forward"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"forward",null,this.props)},s.a.createElement(d.a,{icon:p.d}))),s.a.createElement(u.cb,{key:"allforward"},s.a.createElement(u.db,{onClick:this.callPagination.bind(this,"allforward",null,this.props)},s.a.createElement(d.a,{icon:p.b}))))}},{key:"option",value:function(){var e=[],t="";return t=1e7==this.props.info.limit?"Todos":this.props.info.limit,e.push(s.a.createElement("option",{key:"opt0",value:"3333"},t)),5!=this.props.info.limit&&5<=this.props.info.RegPerFind&&e.push(s.a.createElement("option",{key:"opt5",value:"5"},"5")),10!=this.props.info.limit&&10<=this.props.info.RegPerFind&&e.push(s.a.createElement("option",{key:"opt10",value:"10"},"10")),20!=this.props.info.limit&&20<=this.props.info.RegPerFind&&e.push(s.a.createElement("option",{key:"opt20",value:"20"},"20")),50!=this.props.info.limit&&50<=this.props.info.RegPerFind&&e.push(s.a.createElement("option",{key:"opt50",value:"50"},"50")),100!=this.props.info.limit&&100<=this.props.info.RegPerFind&&e.push(s.a.createElement("option",{key:"opt100",value:"100"},"100")),this.props.info.limit!=this.props.info.RegPerFind&&e.push(s.a.createElement("option",{key:"opt10000000",value:this.props.info.RegPerFind},"Todos")),e}},{key:"render",value:function(){var e=this;return s.a.createElement(u.ib,null,s.a.createElement(u.u,{xs:"12",md:"4"},s.a.createElement(u.ib,null,s.a.createElement(u.u,{xs:"4",md:"0"}),s.a.createElement(u.u,{xs:"8",md:"12"},s.a.createElement(u.ib,null,s.a.createElement(u.u,{xs:"4",md:"4",style:{textAlign:"center",margin:"auto",border:"1px solid #dedede",padding:"6px"}},s.a.createElement(m.a,{value:null!=this.props.info.RegPerFind?this.props.info.RegPerFind:0,displayType:"text",thousandSeparator:!0,renderText:function(e){return e}})),s.a.createElement(u.u,{xs:"8",md:"8"},s.a.createElement(u.H,{type:"select",name:"select",id:"pagNum",onChange:function(t){e.callPagination("cRegister",t.target.value,e.props)}},this.option())))))),s.a.createElement(u.u,{xs:"12",md:"8"},this.pagRender()))}}]),t}(c.Component);t.a=h},516:function(e,t,a){e.exports=a(517)},517:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSVLink=t.CSVDownload=void 0;var n=i(a(518)),r=i(a(519));function i(e){return e&&e.__esModule?e:{default:e}}t.CSVDownload=n.default,t.CSVLink=r.default},518:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(1),o=(n=i)&&n.__esModule?n:{default:n},l=a(431),c=a(432);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"buildURI",value:function(){return l.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.headers,n=e.separator,r=e.enclosingCharacter,i=e.uFEFF,o=e.target,l=e.specs,c=e.replace;this.state.page=window.open(this.buildURI(t,i,a,n,r),o,l,c)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}();s.defaultProps=Object.assign(c.defaultProps,{target:"_blank"}),s.propTypes=c.propTypes,t.default=s},519:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),l=(n=o)&&n.__esModule?n:{default:n},c=a(431),s=a(432);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.buildURI=a.buildURI.bind(a),a.state={href:""},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.headers,n=e.separator,r=e.uFEFF,i=e.enclosingCharacter;this.setState({href:this.buildURI(t,r,a,n,i)})}},{key:"componentDidUpdate",value:function(e){if(this.props!==e){var t=this.props,a=t.data,n=t.headers,r=t.separator,i=t.uFEFF;this.setState({href:this.buildURI(a,i,n,r)})}}},{key:"buildURI",value:function(){return c.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var t=this.props,a=t.data,n=t.headers,r=t.separator,i=t.filename,o=t.enclosingCharacter,l=t.uFEFF,s=new Blob([l?"\ufeff":"",(0,c.toCSV)(a,n,r,o)]);return window.navigator.msSaveBlob(s,i),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,function(a){!1!==a?t.handleLegacy(e):e.preventDefault()})}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,a=(t.data,t.headers,t.separator,t.filename),n=(t.uFEFF,t.children),i=(t.onClick,t.asyncOnClick,t.enclosingCharacter,function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]));return l.default.createElement("a",r({download:a},i,{ref:function(t){return e.link=t},target:"_self",href:this.state.href,onClick:this.handleClick()}),n)}}]),t}();u.defaultProps=s.defaultProps,u.propTypes=s.propTypes,t.default=u}}]);
//# sourceMappingURL=24.ded3628b.chunk.js.map